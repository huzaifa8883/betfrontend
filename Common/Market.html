<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="google" content="notranslate" />    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Sports Trading Platform">
    <meta name="keyword" content="sports trading, bet, betfair">
    <meta name="robots" content="noindex" />

    <link rel="shortcut icon" href="/img/favicon/BetPro.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/img/sprites/css/sprite.css" />
    <link rel="stylesheet" href="/dist/site.css" />
    <link href="/css/BetPro-style.css" rel="stylesheet" />

    <!-- <title>England v India | BetPro</title> -->
    <style>
        .body {
            min-height: 91.7vh;
        }

        center a {
            color: white;
        }

        center a {
            font-size: 13px;
        }
    </style>

    <script>
        const pricesUrl = "https://bettingbackending.work.gd/api";
        const ordersUrl = "https://bettingbackending.work.gd/api";
        const LiquidityRate = 35;
        // const SsocketUrl = "http://localhost:5000/signalr";
        // const uwsUrl = "https://orders-ws2.bfexch.com/usershub";
        const genSck = 1;
        const CasSck = 1;
        // const casinoUrl = "https://casino-ws.bfexch.com/signalr";
        // var SsocketEnable = 0;
    </script>
</head>
<body class="bg-gray d-flex flex-column">
    <div class="main-page">
        <div class="row no-gutters">
            <div class="col-md-3 col-lg-2" id="sidebar">
                <div class="logo-bar">
                    <a href="/Common/Dashboard">
                        <span class="green-logo-text">BetPro</span>
                    </a>
                </div>
                <div class="divider"></div>
                <div class="sidebar-menu" style="height:100%;">
                    <ul>
                        

<ul class="nav">



<style>

    @keyframes spin {
        from {
            transform: rotateY(0deg);
            moz-transform: rotateY(0deg);
            ms-transform: rotateY(0deg);
        }

        to {
            transform: rotateY(360deg);
            moz-transform: rotateY(360deg);
            ms-transform: rotateY(360deg);
        }
    }

    @-webkit-keyframes spin {
        from {
            -webkit-transform: rotateY(0deg);
        }

        to {
            -webkit-transform: rotateY(360deg);
        }
    }

    .imageSpin {
        transition-delay: 5s;
        animation-name: spin;
        animation-iteration-count: infinite;
        animation-duration: inherit;
        -webkit-animation-name: spin;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: initial;
        -webkit-animation-duration: 4s;
        -webkit-animation-delay: 2s;
    }

    .imageSpin2 {
        transition-delay: 3s;
        animation-name: spin;
        animation-iteration-count: infinite;
        animation-duration: inherit;
        -webkit-animation-name: spin;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: initial;
        -webkit-animation-duration: 3s;
        -webkit-animation-delay: 2s;
    }
   

    /*for spin2*/
    #spinning-circle {
        animation-name: spinning-circle;
        animation-duration: 5s;
        animation-iteration-count: infinite;
    }

    @-webkit-keyframes spinning-circle {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    #invertcolor {
        filter: invert(100%);
        -webkit-filter: invert(100%);
        animation-name: spinning-circle;
        animation-duration: 3s;
        animation-iteration-count: infinite;
    }
    #invertcolor2{
         filter: invert(100%);
        -webkit-filter: invert(100%);
       animation-name: spin;
        animation-duration: 4s;
        animation-iteration-count: infinite;
        max-height:30px;
    }

    #invertcolor3 {
        filter: invert(100%);
        -webkit-filter: invert(100%);
        animation-name: spin;
        animation-duration: 3s;
        animation-iteration-count: infinite;
        max-height: 30px;
    }


 .exgameblinker{
   animation: animate 8s linear infinite;
 } 
  
 @keyframes animate{
   0%{
     background-color:red;
   }
   25%{
     background-color:inherit;
   }
   50%{
     background-color:inherit;
   }
   75%{
     background-color:inherit;
   }
   100%{
     background-color:red;
   }
 }

    .Galaxyblinker {
        position: relative;
        z-index: 0;
    }

        .Galaxyblinker::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(90deg, #8a47ff 0%, #c36eff 100%);
            opacity: 1;
            animation: animateGradient 12s linear infinite;
            transition: opacity 0.5s ease;
        }

    @keyframes animateGradient {
        0%, 100%

    {
        opacity: 1;
    }

    25%, 50%, 75% {
        opacity: 0;
    }

    }
/*  */
       .match-card {
  /* background-color: #1a1a1a; */
  color: white;
  margin-bottom: 12px;
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 16px;
  box-shadow: 0 2px 6px rgba(255, 255, 255, 0.05);
  transition: background 0.3s ease;
  cursor: pointer;
}

.match-card:hover {
  background-color: #2a2a2a;
}

</style>

        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-soccer svg-soccer-dims svg-span" role="img"></span>
                <span>Soccer</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Soccer</strong></a></li>
                    <li class="divider"></li>
     <ul class="footballEventList">
                                </ul>
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-tennis svg-tennis-dims svg-span" role="img"></span>
                <span>Tennis</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Tennis</strong></a></li>
                    <li class="divider"></li>
                       <ul class="tennisEventList">
                            </ul>
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-cricket svg-cricket-dims svg-span" role="img"></span>
                <span>Cricket</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Cricket</strong></a></li>
                    <li class="divider"></li>
                        <ul class="cricketEventList ">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245405948"> -->
<!-- England v India                                </a> -->
                                </ul>
                            <!-- </li> -->
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-horse svg-horse-dims svg-span" role="img"></span>
                <span>Horse Race</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Horse Race</strong></a></li>
                    <li class="divider"></li>
                      <ul class="horseEventList">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245481913"> -->
                                        <!-- <span class="market-time"> -->
                                        <!-- </span> -->
                                        <!-- <span class="d-none utctime" data-format="h:mm A"> -->
                                            <!-- 2025-07-10T11:50:00.0000000Z -->
                                        <!-- </span> -->
                                        <!-- <span class="race-venue">Turffontein (ZA)</span> -->
                                        </ul>
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-greyhound-racing svg-greyhound-racing-dims svg-span" role="img"></span>
                <span>Greyhound</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Greyhound</strong></a></li>
                    <li class="divider"></li>
                          <ul class="greyhounditems">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245475078"> -->
                                        <!-- <span class="market-time"> -->
                                        <!-- </span> -->
                                        <!-- <span class="d-none utctime" data-format="h:mm A"> -->
                                            <!-- 2025-07-10T12:05:00.0000000Z -->
                                        <!-- </span> -->
                                        <!-- <span class="race-venue">Q1 Lakeside (AU)</span> -->
                                <!-- </a> -->
                            </ul>
                </ul>
            </div>
        </li>


        <li class="nav-item" style="width:100%;">
            <a href="/Common/sap" class="dropdown-toggle" role="button">
                <span class="svg-Casino svg-Casino-dims imageSpin2" role="img"></span>
                <span>Sports Book</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a href="/Common/RSC" class="dropdown-toggle" role="button">
                <i style="font-size:17px;" class='fas fa-star fa-2x fa-spin fa-lg'></i>
                <span>RoyalStar Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a href="/Common/Games" class="dropdown-toggle" role="button">
                <img id="spinning-circle" src="/img/v2/livegameing.png" onerror="this.onerror = null; this.src= null" alt="G">
                <span>Star Casino</span>
            </a>

        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/WorldCasino">
                <img id="invertcolor" style="background:invert(100%)" src="/img/v2/worldcasinosvg.png" alt="WC" />
                <span>World Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/Dream">
                <span class="svg-Casino svg-Casino-dims imageSpin2" role="img"></span>
                <span>Royal Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/ExGames">
                <img id="invertcolor2" src="/img/v2/BLogo.png" />
                <span>BetFairGames</span>
            </a>
         </li>
        <li class="nav-item exgameblinker" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/BetProGames">
                <img id="invertcolor3" src="/img/v2/TPS.png" />
                <span>TeenPatti Studio</span>
            </a>
        </li>
        <li class="nav-item Galaxyblinker" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/Galaxy">
                <img src="/img/v2/Glogo.png" />
                <span>Galaxy Casino</span>
            </a>
        </li>

    <li class="divider"></li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Customer/Liable.html">
                <span class="svg-colossus svg-colossus-dims svg-span" role="img"></span> 
                Current Position
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Common/Dashboard">
                <span class="svg-soccer svg-soccer-dims svg-span" role="img"></span> 
                All Sports
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Common/Result">
                <span class="svg-clipboard svg-clipboard-dims svg-span" role="img"></span> 
                Results
            </a>
        </li>
    <li class="nav-item" style="width:100%;">
        <a class="nav-link" href="#" onclick="ShowExchangeRules(); return false;">
            <i class="fa fa-info-circle"></i>Market Rules
        </a>
    </li>
    <li class="nav-item" style="width:100%;">
        <a class="nav-link" href="#" onclick="ShowTos(); return false;">
            <i class="fa fa-info-circle"></i>Terms &amp; Conditions
        </a>
    </li>
</ul>
<script>
    function ShowExchangeRules() {
        $("#modalMarketRules").modal('show');

        $.get("/rules.html", function (data) {
            $("#modalMarketRules .modal-body").html(data);
        });
    }

    function ShowTos() {
        $("#modalTos").modal('show');
        $.get("/tos.html", function (data) {
            $("#modalTos .modal-body").html(data);
        });
    }
</script>
                    </ul>
                </div>
            </div>

            <div class="col-md" id="main-wrap">
                <div class="header">
                    <button class="burger-toggle">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <ul class="top-nav">
                        <li><a href="/Common/Dashboard">Dashboard</a></li>
                    </ul>

                    <div id="sticky-footer" style="width:50vw; padding:0px; margin:0px; float:left; " class="py-1 bg-black text-white">
                        <div class="container text-center" style="padding:0px; margin:0px;">
                            <ul id="news-ticker-foot" style="padding:0px; margin:0px;">
                                <li data-update="item1" style="padding:0px; margin:0px;">Welcome to BetPro</li>
                            </ul>
                        </div>
                    </div>


                    <div class="dropdown-wrap">
                        <div class="dropdown">

                         <div class="designation">
                                <span class="wallet-balance">B: -</span>
                                <span class="wallet-exposure"> | L: - |</span>
                            </div>

                            <button class="btn profile-dropdown dropdown-toggle" type="button"  id="navbar-user" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="/Customer/Ledger">Statement</a>
                                <a class="dropdown-item" href="/Common/Result">Result</a>
                                <a class="dropdown-item" href="/Customer/ProfitLoss">Profit Loss</a>
                                <a class="dropdown-item" href="/Customer/Bets">Bet History</a>
                                <a class="dropdown-item" href="/Customer/Profile">Profile</a>
                                <a class="dropdown-item" id="btn-logout" href="/">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-wrap body">
                    

<style>

    .container {
        position: relative;
        overflow: hidden;
        width: 100%;
    }

    /* Then style the iframe to fit in the container div with full height and width */
    .responsive-iframe {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 100%;
    }

    .containerofiframe {
        position: relative;
        overflow: hidden;
        width: 100%;
        height: max-content;
        padding-top: 88%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */
    }

    /* Then style the iframe to fit in the container div with full height and width */
    .responsive-iframe {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        width: 100%;
        height: 100%;
    }

    .checknow {
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10+ and Edge */
        user-select: none; /* Standard syntax */
    }

    .controls {
        overflow: hidden;
        background: #2b2f35;
        /* height: 35px; */
        position: absolute;
        bottom: 0;
        left: 0;
    }

    .scores {
        background-color: #2b2f35;
        border: 1px solid #2b2f35;
        padding: 0.25rem;
    }

    .scores .runnername {
        margin-top: 7px;
        line-height: 0.2;
        color: white;
        font-size: 18px;
    }

    .scores .runner-score {
        color: white;
        font-size: 18px;
        margin-top: 2px;
        padding: 0px;
    }

    .scores .active {
        color: #009069
    }

    .scores .col-divider {
        border-left: 1px solid white;
    }

    .tablefoter {
        font-size: 14px;
        border: 1px solid white;
        color: white;
    }

    .socindivs {
        padding: 0px;
    }

    .timeshow {
        color: white;
        font-size: 18px;
    }

    .scoresocer {
        color: white;
        font-size: 18px
    }

    .tablefotercs {
        font-size: 12px;
        color: white;
    }

    .colwidthset {
        width: 1vw;
    }

    .right-nav {
        padding-left: 10px;
    }

    #TVDIVIFRAME iframe {
        height: 330px;
        width: 100%;
        border: none;
        overflow: hidden;
    }

    @media screen and (max-width: 480px) {
        #TVDIVIFRAME iframe {
            height: 230px;
            width: 100%;
            border: none;
            overflow: hidden;
        }

        .runnername {
            margin-top: 10px;
            line-height: 0.1;
            color: white;
            font-size: 9px;
        }

        .colwidthset {
            width: 50px;
        }

        .tableresp {
            display: inline-table;
        }

        .lrhom {
            display: none;
        }

        .sethourshow {
            line-height: 0.3;
            font-size: 15px;
        }

        .tablefoter {
            font-size: 10px;
        }

        .runnersocer {
            color: white;
            font-size: 13px;
            margin-top: 2px;
            padding: 0px;
            line-height: 1.2;
        }

        .socindivs {
            padding: 0px;
        }

        .timeshow {
            color: white;
            font-size: 12px;
        }

        .scoresocer {
            color: white;
            font-size: 18px;
            padding: 0px;
            margin-bottom: 7px;
        }

        .tablefotercs {
            font-size: 11px;
            color: white;
        }

        .scores .runnername {
            margin-top: 7px;
            line-height: 0.2;
            color: white;
            font-size: 12px;
        }
    }

    @media screen and (max-width: 480px) {
        .runnername {
            margin-top: 10px;
            line-height: 0.1;
            color: white;
            font-size: 9px;
        }

        .colwidthset {
            width: 50px;
        }

        .tableresp {
            display: inline-table;
        }

        .lrhom {
            display: none;
        }

        .sethourshow {
            line-height: 0.3;
            font-size: 15px;
        }

        .tablefoter {
            font-size: 10px;
        }

        .runnersocer {
            color: white;
            font-size: 13px;
            margin-top: 2px;
            padding: 0px;
            line-height: 1.2;
        }

        .socindivs {
            padding: 0px;
        }

        .timeshow {
            color: white;
            font-size: 12px;
        }

        .scoresocer {
            color: white;
            font-size: 18px;
            padding: 0px;
            margin-bottom: 7px;
        }

        .tablefotercs {
            font-size: 11px;
            color: white;
        }

        .scores .runnername {
            margin-top: 7px;
            line-height: 0.2;
            color: white;
            font-size: 12px;
        }

        iframe {
            width: 1px;
            min-width: 100%;
        }
    }

    iframe {
        width: 1px;
        min-width: 100%;
    }

    /* Style the tab */
    .tabcontent {
        margin-top: -4px;
        display: none;
        border: 1px solid #ccc;
        border-top: none;
        background-color: white;
    }

    div.scrollmenu {
        overflow: auto;
        white-space: nowrap;
        margin-bottom: -10px;
        transition: 0.5s;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    div.scrollmenu a {
        display: inline-block;
        color: black;
        text-align: center;
        padding: 0px 20px;
        text-decoration: none;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    div.scrollmenu a:hover {
        color: white;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }
</style>
<script>
  async function getSportByMarketId(marketId) {
  try {
    const res = await fetch(`https://bettingbackending.work.gd/api/markets/catalog2?id=${marketId}`);
    const data = await res.json();

    console.log("Catalog2 API response:", data);

    const urlParams = new URLSearchParams(window.location.search);
    const fromParam = urlParams.get('from'); // 'inplay' ya null

    let displayStatus = data.status?.toUpperCase() || 'UNKNOWN';
    if (displayStatus === 'OPEN' && fromParam === 'inplay') {
        displayStatus = 'Inplay';
    }

    document.querySelector('.green-upper-text').textContent = displayStatus;

    const matchName = data.eventName || data.match || 'Unknown Match';
    document.title = `${matchName} | BetPro`;

  } catch (error) {
    console.error("Error fetching sport by marketId:", error);
  }
}


  async function initMarketPage() {
    const urlParams = new URLSearchParams(window.location.search);
    const marketId = urlParams.get('id');
    if (!marketId) return;
    await getSportByMarketId(marketId);
  }

  document.addEventListener('DOMContentLoaded', initMarketPage);

  async function initMarketPage() {
    const urlParams = new URLSearchParams(window.location.search);
    const marketId = urlParams.get('id');
    if (!marketId) return;
    await getSportByMarketId(marketId);
  }

  document.addEventListener('DOMContentLoaded', initMarketPage);
  // 2. Us sport ke related 5 live matches fetch kar ke show karne wali function
  async function loadRelatedEventsBySport(sport) {
    try {
      const normalizedSport = sport.toLowerCase();

      const res = await fetch(`https://bettingbackending.work.gd/api/markets/live/${sport}`);
      const result = await res.json();

      const tbody = document.getElementById('relatedEventsBody');
      tbody.innerHTML = '';  // Purane events clear karo

      if (result.status === 'success' && Array.isArray(result.data) && result.data.length > 0) {
        const events = result.data.slice(0, 5);  // Sirf 5 latest events

        events.forEach(event => {
          const startTime = new Date(event.marketStartTime || event.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' });

          const today = new Date();
          const eventDate = new Date(event.marketStartTime || event.startTime);

          let dayLabel = 'Upcoming';
          if (eventDate.toDateString() === today.toDateString()) {
            dayLabel = 'Today';
          } else {
            const tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);
            if (eventDate.toDateString() === tomorrow.toDateString()) {
              dayLabel = 'Tomorrow';
            }
          }

          const tr = document.createElement('tr');
          tr.className = 'relatedtr';
          tr.style.cursor = 'pointer';
          tr.onclick = () => {
            window.location.href = `/Common/Market.html?id=${event.marketId}`;
          };

          tr.innerHTML = `
            <td class="sport-date" style="font-size:14px; padding:0 20px;">
              <div>
                <span class="day">${dayLabel}</span>
                <span class="market-time">${localTime}</span>
                <span class="d-none utctime" data-format="H:mm" data-target="time">${event.marketStartTime || event.startTime}</span>
              </div>
            </td>
            <td>
              <div>${event.marketName || event.match || 'Unknown Match'}</div>
            </td>
          `;

          tbody.appendChild(tr);
        });

      } else {
        tbody.innerHTML = `<tr><td colspan="2" style="text-align:center; color:white;">No ${sport} matches found.</td></tr>`;
      }
    } catch (error) {
      console.error(`Error loading ${sport} matches:`, error);
    }
  }

  // 3. Page load pe ye init hoga
  async function initRelatedEvents() {
    const urlParams = new URLSearchParams(window.location.search);
    const marketId = urlParams.get('id');

    if (!marketId) {
      console.warn('No market ID found in URL');
      return;
    }

    const sport = await getSportByMarketId(marketId);
    console.log("Sport name:", sport); // Add this to verify
    loadRelatedEventsBySport(sport);
  }

  initRelatedEvents();

  const urlParams = new URLSearchParams(window.location.search);
  const marketId = urlParams.get('id');
  // const marketId = "3484884"

  const eventId = '34567355';
  const timeCode = '';

  const CommentrySignalR = 1;
  const SsocketEnable = 1;
  const CatalogSignalR = 0; //1;
</script>



<script>
  async function loadgreyhoundMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/greyhound');
      const result = await response.json();

      const listContainer = document.querySelector('.greyhounditems');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card'); // ✅ Custom style class

          const startTime = new Date(match.startTime);
          const timeStr = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase(); // e.g., "4:50 PM" → "4:50 pm"

          li.textContent = `${timeStr} ${match.match}`;

          // ✅ Redirect on click to market.html with marketId
          li.style.cursor = 'pointer';
          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${match.marketId}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live horse matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading horse matches:', err.message);
    }
  }

  loadgreyhoundMatches(); // auto load on page load
</script>
<script>
  async function loadhorseMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/horse');
      const result = await response.json();

      const listContainer = document.querySelector('.horseEventList');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card'); // ✅ Custom style class

          const startTime = new Date(match.startTime);
          const timeStr = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase(); // e.g., "4:50 PM" → "4:50 pm"

          li.textContent = `${timeStr} ${match.match}`;

          // Click handler: Redirect to market.html with marketId or match info
          // Assuming match.marketId exists; agar nahi hai toh backend mein bhi bhejna hoga
          li.style.cursor = 'pointer';  // Cursor pointer for UX
          li.addEventListener('click', () => {
            // MarketId ko query param mein bhej rahe hain
            window.location.href = `Market.html?id=${encodeURIComponent(match.marketId)}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live horse matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading horse matches:', err.message);
    }
  }

  loadhorseMatches(); // auto load on page load
</script>

<script>
  async function loadCricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/cricket');
      const result = await response.json();

      const tbody = document.getElementById('cricketMatchContainer');
      tbody.innerHTML = ''; // Clear old rows

      const matchCountElement = document.getElementById('cricketMatchCount');

      if (result.status === 'success' && Array.isArray(result.data)) {
        matchCountElement.textContent = result.data.length;

        result.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', {
            hour: '2-digit',
            minute: '2-digit'
          });

          const today = new Date();
          const matchDate = new Date(match.startTime);

          let dayLabel = match.inPlay ? 'InPlay' : 'Upcoming';
          if (!match.inPlay) {
            if (matchDate.toDateString() === today.toDateString()) {
              dayLabel = 'Today';
            } else {
              const tomorrow = new Date();
              tomorrow.setDate(today.getDate() + 1);
              if (matchDate.toDateString() === tomorrow.toDateString()) {
                dayLabel = 'Tomorrow';
              }
            }
          }

          const bgClass = match.inPlay ? 'bg-primary' : 'bg-rgb(255, 255, 255)';
          const textColor = match.inPlay ? 'white' : 'black';

          const icons = `
            <span class="svg-DBM svg-DBM-dims svg-span" role="img" aria-label="bm"></span>
          `;

        // ... [SAME CODE ABOVE]

const row = document.createElement('tr');
row.id = `m_${match.marketId}`;
row.className = `m_${match.marketId} McomCustom`;

row.innerHTML = `
  <td class="sport-date ${bgClass}" style="color:${textColor};">
    <div>
      <span class="day">${dayLabel}</span>
      <span class="market-time">${localTime}</span>
      <span class="d-none utctime" data-format="H:mm">${match.startTime}</span>
    </div>
  </td>

  <td>
    <div class="teams">
    <strong class="team-1 match-link" style="cursor: pointer;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
        ${match.match}
      </strong>
      <strong class="team-2"><a href=""></a></strong>
    </div>
  </td>

  <td>
    <div class="matched">
      ${icons}
      <span class="TMFORDESK">${match.totalMatched}</span>
    </div>
    <span class="TMFORMOB">${match.totalMatched}</span>
  </td>

  <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
  <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

  <td><div class="box -blue m-left"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
  <td><div class="box -pink m-right"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

  <td><div class="box -blue"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
  <td><div class="box -pink"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

  <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
`;

// ✅ Add click event ONLY on match name
// Wait until it's in the DOM
setTimeout(() => {
  const matchLink = row.querySelector('.match-link');
  if (matchLink) {
    matchLink.addEventListener('click', (e) => {
      e.stopPropagation(); // prevent parent events
      window.location.href = `/Common/Market.html?id=${match.marketId}`;
    });
  }
}, 0);

tbody.appendChild(row);

        });
      } else {
        matchCountElement.textContent = '0';
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No live matches found.</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading cricket matches:', err);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadCricketMatches();
    // setInterval(loadCricketMatches, 30000); // auto-refresh every 30 sec
  });
</script>
<script>
  async function loadInPlayCricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/cricket');
      const result = await response.json();

      const tbody = document.getElementById('inPlayMatchesContainer');
      tbody.innerHTML = ''; // Clear previous rows

      if (result.status === 'success' && Array.isArray(result.data)) {
        const inPlayMatches = result.data.filter(match => match.inPlay === true);

       if (inPlayMatches.length === 0) {
          setTimeout(() => {
            if (document.getElementById('inPlayMatchesContainer')) {
              tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;"></td></tr>`;
            }
          }, 100);
          return;
        }

        inPlayMatches.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', {
            hour: '2-digit',
            minute: '2-digit'
          });

          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date bg-primary" style="color:white;">
              <div>
                <span class="day">InPlay</span>
                <span class="market-time">${localTime}</span>
                <span class="d-none utctime" data-format="H:mm">${match.startTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                  <a href="/Common/Market?id=${match.marketId}">
                    ${match.match}
                  </a>
                </strong>
                <strong class="team-2"><a href=""></a></strong>
              </div>
            </td>

            <td>
              <div class="matched">
                <span class="svg-DBM svg-DBM-dims svg-span" role="img" aria-label="bm"></span>
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
              <span class="TMFORMOB">${match.totalMatched}</span>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue m-left"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
            <td><div class="box -pink m-right"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;
           row.addEventListener('click', function() {
              window.location.href = `Market.html?id=${match.marketId}`;
            });
          tbody.appendChild(row);
        });
      } else {
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches.</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading InPlay cricket matches:', err);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadInPlayCricketMatches();
    // setInterval(loadInPlayCricketMatches, 30000);
  });
</script>
<script>
  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadTennisMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/tennis');
      const result = await response.json();

      const listContainer = document.querySelector('.tennisEventList');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card');

          const matchName = match.match || 'match';
          const matchId = match.marketId || match.eventId || '0';
          const slug = slugify(matchName);

          li.textContent = matchName;
          li.style.cursor = 'pointer';

          // ✅ Underline on hover
          // li.addEventListener('mouseover', () => {
          //   li.style.textDecoration = 'underline';
          // });
          // li.addEventListener('mouseout', () => {
          //   li.style.textDecoration = 'none';
          // });

          // ✅ Redirect on click
          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${matchId}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live tennis matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading tennis matches:', err.message);
    }
  }

  loadTennisMatches(); // auto load on page load
</script>


<script>
  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadFootballMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/football');
      const result = await response.json();

      const listContainer = document.querySelector('.footballEventList');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card'); // ✅ Custom style class

          const matchName = match.match || 'match';
          const matchId = match.marketId || match.eventId || '0';
          const slug = slugify(matchName);

          li.textContent = matchName;
          li.style.cursor = 'pointer';

          // ✅ Redirect on click to market.html with id
          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${matchId}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live football matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading football matches:', err.message);
    }
  }

  loadFootballMatches(); // auto load on page load
</script>
<script>
  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadCricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/cricket');
      const result = await response.json();

      const ul = document.querySelector('.cricketEventList');
      ul.innerHTML = '';

      if (result.status === 'success') {
        if (result.data.length === 0) {
          ul.innerHTML = '<li>No live or upcoming cricket matches found</li>';
          return;
        }

        result.data.forEach(event => {
          const li = document.createElement('li');
          li.classList.add('match-card');

          const matchName = event.match || 'match';
          const matchId = event.marketId || event.eventId || '0'; // fallback if id not found
          const slug = slugify(matchName);

          li.textContent = matchName;
          li.style.cursor = 'pointer';

          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${matchId}`;
          });

          ul.appendChild(li);
        });
      } else {
        ul.innerHTML = '<li>Error loading matches</li>';
      }
    } catch (error) {
      console.error('API Error:', error);
      document.querySelector('.cricketEventList').innerHTML =
        '<li>API Error: ' + error.message + '</li>';
    }
  }

  document.addEventListener('DOMContentLoaded', loadCricketMatches);
</script>

<script src="/js/unreal_html5_player_script_v2.js?00001"></script>

<div id="MarketView">
    <div class="text-center mt-10" v-show="!IsLoaded">
        <img src="/img/loadinggif.gif" alt="Loading...">
    </div>

    <div class="row d-none" id="loadedmarkettoshow" v-show="IsLoaded">
        <div class="col-lg-8">
            <div class="left-content">
                <div class="table-wrap">
                    <div class="table-box-header">
                        <div class="row no-gutters">
                            <div class="col-md-auto">
                                <div class="box-main-icon">
                                    <img :src="sport_icon" v-if="sport_icon" alt="Box Icon">
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="tb-top-text">
                                    <p>
                                        <img src="/img/v2/clock-green.svg">
                                        <span class="green-upper-text">{{ Catalog.status }}</span>
                                        <span class="black-light-text">{{ fromNow }} | {{ prettyDate }}</span>
                                        <span class="black-light-text"> | Winners: {{ WinnersCount }}</span>
                                    </p>
                                    <h4 class="event-title">{{ Catalog.eventName }}</h4>
                                    <p>
                                        <span class="medium-black">{{ currentDateTime }}</span>
                                        <div class="form-group form-check pull-right" id="DisplayOnBox">
                                            <input type="checkbox" class="form-check-input" id="IsDisplayOn">
                                            <label class="form-check-label" for="IsDisplayOn">Keep Display On</label>
                                        </div>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="scrollmenu">
                            <a v-if="subMarkets.length > 0" class="tablink btn btn-primary"
                               id="Alltab"
                               v-on:click="ShowTab('All', -1)">
                                {{ FirstTabName }}
                            </a>
                            <a class="tablink btn btn-primary" id="TOSStab" v-if="TossMarkets.length > 0" href="#" onclick="MarketTab('TOSS')">Toss</a>
                            <a class="tablink btn btn-primary" id="BMtab" v-if="BookmakerMarkets.length > 0" href="#" onclick="MarketTab('BM')">Bookmaker</a>
                            <a class="tablink btn btn-primary" id="Fancytab" v-if="FancyMarkets.length > 0" href="#" onclick="MarketTab('Fancy')">BetFair-Fancy</a>
                            <a class="tablink btn btn-primary" id="Fancy2tab" v-if="Fancy2Markets.length > 0" href="#" onclick="MarketTab('Fancy2')">Fancy-2</a>
                            <a class="tablink btn btn-primary" id="Figuretab" v-if="FigureMarkets.length > 0" href="#" onclick="MarketTab('Figure')">Figure</a>
                            <a class="tablink btn btn-primary" id="OddFiguretab" v-if="OddFigureMarkets.length > 0" href="#" onclick="MarketTab('OddFigure')">Even-Odd</a>
                            <a class="tablink btn btn-primary" id="Othertab" v-if="OtherMarkets.length > 0" href="#" onclick="MarketTab('Other')">Others</a>

                            <a class="tablink btn btn-primary" href="#"
                               v-bind:id="'race' + index + 'tab'"
                               v-for="(Catalog, index) in OtherRaceMarkets"
                               v-on:click="ShowTab('race', index)">
                                {{ Catalog.marketName }}
                            </a>
                        </div>
                    </div>

                    <div class="scores" v-if="IsTennis && scores != null && scores.home != null">
    <div class="row" style="margin:0px; padding:2px;">
        <div class="col-4" style="line-height:0; padding:0px;">
            <p class="runnername"><b>{{ scores.home }}</b></p>
            <p class="runnername"><b>{{ scores.away }}</b></p>
            <span style="line-height:0.4; color:#00B181">
                Set {{ scores.currentSet }} |
            </span>
            <span class="sethourshow" style="color:#00B181">{{ scores.time }}</span>
        </div>
        <div class="col-8" style="text-align:center; line-height:1; padding:0px;">
            <table class="col-12 table-responsive-sm tableresp" v-if="scores.homeGameSeq != null">
                <tr>
                    <td class="runner-score colwidthset" v-for="gs in scores.homeGameSeq">{{ gs }}</td>
                    <td class="runner-score active colwidthset">{{ scores.games[0] }}</td>
                    <td class="runner-score active col-divider colwidthset">{{ scores.score[0] }}</td>
                    <td class="runner-score col-divider colwidthset" v-if="scores.aces != null">{{ scores.aces[0] }}</td>
                    <td class="runner-score col-divider colwidthset" v-if="scores.faults != null">{{ scores.faults[0] }}</td>
                    <td class="runner-score col-divider colwidthset">{{ scores.breaks[0] }}</td>
                </tr>
                <tr>
                    <td class="runner-score colwidthset" v-for="gs in scores.awayGameSeq">{{ gs }}</td>
                    <td class="runner-score active colwidthset">{{ scores.games[1] }}</td>
                    <td class="runner-score active col-divider colwidthset">{{ scores.score[1] }}</td>
                    <td class="runner-score col-divider colwidthset" v-if="scores.aces != null">{{ scores.aces[1] }}</td>
                    <td class="runner-score col-divider colwidthset" v-if="scores.faults != null">{{ scores.faults[1] }}</td>
                    <td class="runner-score col-divider colwidthset">{{ scores.breaks[1] }}</td>
                </tr>
                <tr class="col-12 tablefotercs">
                    <td class="colwidthset">1</td>
                    <td class="colwidthset" v-if="scores.homeGameSeq.length >= 1">2</td>
                    <td class="colwidthset" v-if="scores.homeGameSeq.length >= 2">3</td>
                    <td class="colwidthset" v-if="scores.homeGameSeq.length >= 3">4</td>
                    <td class="colwidthset" v-if="scores.homeGameSeq.length >= 4">5</td>
                    <td class="col-divider colwidthset">Points</td>
                    <td class="col-divider lrhom colwidthset" v-if="scores.aces != null">Aces</td>
                    <td class="col-divider lrhom colwidthset" v-if="scores.faults != null">D/Faults</td>
                    <td class=" col-dividerlrhom col-divider colwidthset">ServBreak</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="scores" v-if="IsSoccer && scores != null && scores.home != null">
      <div class="row" style="margin:0px;">
        <div class="col-4 socindivs">
            <div class="runnername">{{ scores.home }}</div>
            <div class="runner-score mt-2"><b>{{ scores.score[0] }}</b></div>
        </div>
        <div class="col-4 socindivs" style="text-align:center">
            <div class="runnername"><b>Time</b></div>
            <div class="timeshow mt-2">{{ scores.time }}'</div>
        </div>
        <div class="col-4 socindivs" style="text-align:right;">
            <div class="runnername">{{ scores.away }}</div>
            <div class="runner-score mt-2"><b>{{ scores.score[1] }}</b></div>
        </div>
    </div>

    <div class="timelineNS">
        <div class="half firstHalf">
            <div class="empty-bar">
                <div class="bar":style="'width:'+ scores.firstpercent">
                        <div v-for="RNR in scores.runners" v-if="RNR != 'undefined' &&  RNR.datalist != 'undefined' && RNR.half == false" :style="'left:'+ RNR.datalist.ourTime+'%'" class="tooltipNS"  :class="{  top: RNR.top == true ,  bottom: RNR.top == false}"><i v-if="RNR.datalist.type == 'YellowCard'" class="fa fa-square" style='color: #f3da35; font-size:x-small;'></i><i v-else-if="RNR.datalist.type == 'Goal'" class='fas fa-basketball-ball' style='font-size:x-small;'></i><i v-else-if="RNR.datalist.type == 'YellowRedCard'" class="fa fa-square" style='color: red; font-size:x-small;'></i>
                          
                            <div class="tooltiptextNS" :class="{toptt: RNR.top == true}">
                                <p style="color:green">{{RNR.datalist.time}}'</p>
                            <p style="color:black">{{RNR.runnerName}}</p>
                            </div>
                            
                        </div>
                        
                </div>
            </div>

        </div>

       

        <div class="half secondHalf">
            <div class="empty-bar">
                <div class="bar"  :style="{width: scores.secondpercent }">
                        <div v-for="RNR in scores.runners" v-if="RNR != 'undefined' &&  RNR.datalist != 'undefined' && RNR.half == true" :style="'left:'+ RNR.datalist.ourTime+'%'" class="tooltipNS"  :class="{  top: RNR.top == true ,  bottom: RNR.top == false}"> <i v-if="RNR.datalist.type == 'YellowCard'" class="fa fa-square" style='color: #f3da35; font-size:x-small;'></i> <i v-else-if="RNR.datalist.type == 'Goal'" class='fas fa-basketball-ball' style='font-size:x-small;'></i> <i v-else-if="RNR.datalist.type == 'YellowRedCard'" class="fa fa-square" style='color: red; font-size:x-small;'></i>
                          <div class="tooltiptextNS" :class="{toptt: RNR.top == true}">
                                <p style="color:green">{{RNR.datalist.time}}'</p>
                                <p style="color:black">{{RNR.runnerName}}</p>
                            </div>
                        </div>
                </div>
            </div>
        </div>

    </div>



</div>

                    <div class="table-box-header" v-if="score != null && score.commentry != null">
                        <div class="row no-gutters">
                            <div class="col-md">
                                <div class="tb-top-text">
                                    <p>
                                        <div v-if="score.target > 0 && score.team2 != ''">
                                            <span>{{ score.team2 }}</span>
                                            <span class="medium-black">{{ score.t2_runs }}/{{ score.t2_wickets }} ({{ score.t2_overs }})</span>
                                            <span class="runrate">CRR: {{ score.t2_crr }}</span>
                                            <span class="runrate">Target: {{ score.target }}</span>
                                        </div>
                                        <div v-else-if="score.team1 != null && score.team1 != ''">
                                            <span>{{ score.team1 }}</span>
                                            <span class="medium-black">{{ score.t1_runs }}/{{ score.t1_wickets }} ({{ score.t1_overs }})</span>
                                            <span class="runrate">CRR: {{ score.t1_crr }}</span>
                                        </div>
                                        <span style="margin-top:-8px;" class="green-upper-text">
                                            <div class="row">
                                                <div>
                                                    {{ score.commentry }}
                                                </div>
                                                <div style="margin-left:8px; margin-top:-3px;">
                                                    <input class='fas fa-volume-mute fa-inverse' style="width:0px; margin-right:35px; font-size:15px;" v-if="!IsVoice" type="checkbox" v-model="IsVoice" />
                                                    <input v-else class='fas fa-volume-up fa-inverse' style="width:0px; margin-right:35px; font-size:15px;" type="checkbox" v-model="IsVoice" />
                                                </div>
                                            </div>
                                        </span>
                                    </p>
                                    <p v-if="score.team1 != ''">{{ score.lastOverLabel }} : &nbsp; {{ score.recent_string }}</p>
                                    <p v-if="score.target > 0 && score.team2 != ''">{{ score.toWin }} &nbsp;&nbsp;&nbsp;&nbsp; RRR: {{ score.rrr }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="All" class="tabcontent" style="display:block;">
                        <div class="tab-content" id="nav-tabContent">
                            <div class="tab-pane fade show active" id="nav-1" role="tabpanel" aria-labelledby="nav-home-tab">
                                <div class="table-box-body">
                                    <div class="tb-content" v-if="RunnersAggregate.length >= 2">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Combined </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Combined')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        <runner-aggregate v-bind:marketid="aggregateRun.marketId"
                                                          v-bind:name="aggregateRun.runnerName"
                                                          v-bind:back="aggregateRun.back"
                                                          v-bind:lay="aggregateRun.lay"
                                                          v-on:betslip="ShowBetSlipForAggregate($event)">
                                        </runner-aggregate>

                                    </div>

                                    <div class="tb-content" v-if="isRenderTopMarket">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
<!-- <div class="runner-position">
  <span v-if="getRunnerAmounts(runner.runnerName).ifWin >= 0">
    <span class="runner-position-pos">
      <strong>{{ getRunnerAmounts(runner.runnerName).ifWin | format }}</strong>
    </span>
    <span class="position-minus" v-if="getRunnerAmounts(runner.runnerName).ifLose != null && getRunnerAmounts(runner.runnerName).ifLose != 0">
      <strong>{{ getRunnerAmounts(runner.runnerName).ifLose | format }}</strong>
    </span>
  </span>
  <span v-else>
    <span class="position-minus">
      <strong>{{ getRunnerAmounts(runner.runnerName).ifWin | format }}</strong>
    </span>
    <span class="runner-position-pos" v-if="getRunnerAmounts(runner.runnerName).ifLose != null && getRunnerAmounts(runner.runnerName).ifLose != 0">
      <strong>{{ getRunnerAmounts(runner.runnerName).ifLose | format }}</strong>
    </span>
  </span>
  <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
      ({{runner.metadataDict.STALL_DRAW }})
    </span>
    {{ runner.jockeyName }}
  </span>
  <span v-if="Catalog.bettingType === 'LINE'">
    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
  </span>
</div> -->
<div class="runner-position">
  <span>
    <span :class="getRunnerAmounts(runner.runnerName).ifWin >= 0 ? 'runner-position-pos' : 'position-minus'">
      <strong>{{ getRunnerAmounts(runner.runnerName).ifWin | format }}</strong>
    </span>
  </span>
  <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
      ({{ runner.metadataDict.STALL_DRAW }})
    </span>
    {{ runner.jockeyName }}
  </span>
  <span v-if="Catalog.bettingType === 'LINE'">
    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
  </span>
</div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                    </div>

                                    <div v-if="Catalog.news!=null && Catalog.news!=''">
                                        <div style="border-top:1px solid lightgray; margin:0 5px; border-bottom:1px solid lightgray; padding:5px;">
                                            <p style="text-align:left;  margin:0px; padding:0px; font-size:16px; font-weight:inherit; color:red;"><b>{{Catalog.news}}</b></p>
                                        </div>
                                    </div>

                                    <div v-if="TossMarkets.length > 0">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Toss Market </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Toss Market')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        <div class="tb-content" v-for="Catalog in TossMarkets">
                                            <div class="tb-content">
                                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tb-content" v-if="BookmakerMarkets.length > 0" v-for="Catalog in BookmakerMarkets">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                    </div>

                                    <div class="tb-content" v-if="FancyMarkets.length > 0">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>BetFair Fancy </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'BetFair Fancy')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        <div v-bind:id="'market-' + Catalog.marketId" v-for="Catalog in FancyMarkets">
                                            

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                        </div>
                                    </div>

                                    <div class="tb-content" v-if="Fancy2Markets.length > 0">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Fancy 2 </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Fancy 2')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        <div v-bind:id="'market-' + Catalog.marketId" v-for="Catalog in Fancy2Markets">
                                            

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                        </div>
                                    </div>

                                    <div class="tb-content" v-if="OtherMarkets.length > 0" v-for="Catalog in OtherMarkets">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                    </div>

                                    <div class="tb-content" v-if="FigureMarkets.length > 0" v-for="Catalog in FigureMarkets">
                                        <div class="tb-content">
                                               
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                            
<div>
    <div class="card" style="padding:1px 18px; ">
        <div class="row">
            <div class="col-3 col-lg-4 mobilehide"></div>
            <div class="col customcheck" style="text-align:center; border:1px solid black"
                 v-for="(single, index) in Catalog.runners"
                 v-if="index < 5">
                

<div :id="single.selectionId" v-on:click="ShowBetSlip(single, 'B', single.marketId, 1)">
    <b><span class="priceodd">{{single.runnerName}}</span><br /></b>
    <span class="priceamount">{{single.price1}}</span><br /><hr style="margin:0px;" />
    <div style="background-color:#e9f6fc">
        <span class="positioncustom" v-if="single.ifWin > 0" style=" color:forestgreen" ><strong>{{single.ifWin | format}}</strong></span>
        <span class="positioncustom" v-else style=" color:red" ><strong>{{single.ifWin | format}}</strong></span>
    </div>
</div>





            </div>
            <div class="col-3 col-lg-4 mobilehide"></div>
        </div>
        <div class="row">
            <div class="col-3 col-lg-4 mobilehide"></div>
            <div class="col customcheck" style="text-align:center; border:1px solid black"
                 v-for="(single, index) in Catalog.runners"
                 v-if="index >= 5">
                

<div :id="single.selectionId" v-on:click="ShowBetSlip(single, 'B', single.marketId, 1)">
    <b><span class="priceodd">{{single.runnerName}}</span><br /></b>
    <span class="priceamount">{{single.price1}}</span><br /><hr style="margin:0px;" />
    <div style="background-color:#e9f6fc">
        <span class="positioncustom" v-if="single.ifWin > 0" style=" color:forestgreen" ><strong>{{single.ifWin | format}}</strong></span>
        <span class="positioncustom" v-else style=" color:red" ><strong>{{single.ifWin | format}}</strong></span>
    </div>
</div>





            </div>
            <div class="col-3 col-lg-4 mobilehide"></div>
        </div>
    </div>
</div>
                                        </div>
                                    </div>

                                    <div v-if="OddFigureMarkets.length > 0">
                                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Even / Odd </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Even / Odd')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                        <div class="tb-content" v-for="Catalog in OddFigureMarkets">
                                            <div class="tb-content">
                                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-if="TossMarkets.length > 0" id="TOSS" class="tabcontent">
                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Toss Market </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Toss Market')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                        <div class="tb-content" v-for="Catalog in TossMarkets">
                            <div class="tb-content">
                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                            </div>
                        </div>
                    </div>

                    <div v-if="BookmakerMarkets.length > 0" id="BM" class="tabcontent">
                        <div class="tb-content" v-for="Catalog in BookmakerMarkets">
                               
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                            

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                        </div>
                    </div>

                    <div v-if="FancyMarkets.length > 0" id="Fancy" class="tabcontent">
                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>BetFair Fancy </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'BetFair Fancy')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                        <div v-bind:id="'market-' + Catalog.marketId" v-for="Catalog in FancyMarkets">
                            

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                        </div>
                    </div>

                    <div v-if="Fancy2Markets.length > 0" id="Fancy2" class="tabcontent">
                        <div class="tb-content">
                               
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Fancy 2 </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Fancy 2')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                            <div v-bind:id="'market-' + Catalog.marketId" v-for="Catalog in Fancy2Markets">
                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                            </div>
                        </div>
                    </div>

                    <div v-if="OtherMarkets.length > 0" id="Other" class="tabcontent">
                        <div class="tb-content" v-for="Catalog in OtherMarkets">
                               
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                            

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                        </div>
                    </div>

                    <div v-if="FigureMarkets.length > 0" id="Figure" class="tabcontent">
                        <div class="tb-content" v-for="Catalog in FigureMarkets">
                            <div class="tb-content">
                                   
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                                
<div>
    <div class="card" style="padding:1px 18px; ">
        <div class="row">
            <div class="col-3 col-lg-4 mobilehide"></div>
            <div class="col customcheck" style="text-align:center; border:1px solid black"
                 v-for="(single, index) in Catalog.runners"
                 v-if="index < 5">
                

<div :id="single.selectionId" v-on:click="ShowBetSlip(single, 'B', single.marketId, 1)">
    <b><span class="priceodd">{{single.runnerName}}</span><br /></b>
    <span class="priceamount">{{single.price1}}</span><br /><hr style="margin:0px;" />
    <div style="background-color:#e9f6fc">
        <span class="positioncustom" v-if="single.ifWin > 0" style=" color:forestgreen" ><strong>{{single.ifWin | format}}</strong></span>
        <span class="positioncustom" v-else style=" color:red" ><strong>{{single.ifWin | format}}</strong></span>
    </div>
</div>





            </div>
            <div class="col-3 col-lg-4 mobilehide"></div>
        </div>
        <div class="row">
            <div class="col-3 col-lg-4 mobilehide"></div>
            <div class="col customcheck" style="text-align:center; border:1px solid black"
                 v-for="(single, index) in Catalog.runners"
                 v-if="index >= 5">
                

<div :id="single.selectionId" v-on:click="ShowBetSlip(single, 'B', single.marketId, 1)">
    <b><span class="priceodd">{{single.runnerName}}</span><br /></b>
    <span class="priceamount">{{single.price1}}</span><br /><hr style="margin:0px;" />
    <div style="background-color:#e9f6fc">
        <span class="positioncustom" v-if="single.ifWin > 0" style=" color:forestgreen" ><strong>{{single.ifWin | format}}</strong></span>
        <span class="positioncustom" v-else style=" color:red" ><strong>{{single.ifWin | format}}</strong></span>
    </div>
</div>





            </div>
            <div class="col-3 col-lg-4 mobilehide"></div>
        </div>
    </div>
</div>
                            </div>
                        </div>
                    </div>

                    <div v-if="OddFigureMarkets.length > 0" id="OddFigure" class="tabcontent">
                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>Even / Odd </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{ fancySize | formatForiegn2 }})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, 'Even / Odd')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                        <div class="tb-content" v-for="Catalog in OddFigureMarkets">
                            <div class="tb-content">
                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                            </div>
                        </div>
                    </div>

                    <div class="tabcontent"
                         v-for="(Catalog, index) in OtherRaceMarkets"
                         v-bind:id="'race' + index">
                           
<div class="market-titlebar">
    <p class="market-name">
        <span class="market-name-badge">
            <i class="market-name-icon">
                <img style="filter: invert(100%);margin-top:-8px;margin-left:-1px;" src="/img/time.png" />
            </i>
                <span>{{ Catalog.marketName }} </span>
                <span style="text-transform:initial;">
                    (MaxBet: {{Catalog.maxBetSize | formatForiegn2}})
                </span>
        </span>
        <span class="rules-badge" v-on:click.prevent="ShowRules(Catalog.marketId, '')">
            <i class="fa fa-info-circle"></i>
        </span>
    </p>

    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround"><span></span><strong>Back</strong></div>
    <div v-if="Catalog.marketType !='FIGURE'" class="market-overarround market-overarround-lay"><strong>Lay</strong></div>
</div>
                        <div class="tb-content">
                            <div class="tb-content">
                                

<div class="market-runners">
    <div class="runner-runner"
         :id="'runner-' + runner.selectionId"
         v-bind:class="{ 'winner': runner.status == 'WINNER' }"
         v-for="runner in Catalog.runners">
        <span class="selector ml-2"
              v-show="Catalog.eventTypeId===7"
              v-bind:class="{ 'selected': runner.selected }"
              v-on:click="toggleRunner(runner)"></span>
        <img class="ml-2" :src="runner.silkColor" v-show="runner.silkColor !== null" />
        <h3 class="runner-name">
            <div class="runner-info">
                <span class="clippable runner-display-name">
                    <h4 v-if="Catalog.eventTypeId == 7" class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true"
                        :title="MetadataHtml(runner)">
                        {{ runner.runnerName }}
                    </h4>
                    <h4 v-else class="clippable-spacer"
                        data-toggle="tooltip"
                        data-placement="top"
                        data-html="true">
                        {{ runner.runnerName }}
                    </h4>
                </span>
                <!--<span v-show="Catalog.status2!==null" style="padding-left: 95px;color: red;font-size: 1.5rem;">
                {{ Catalog.status2 }}
            </span>-->
            </div>
            <div class="runner-position">
                <span v-if="runner.ifWin >= 0">
                    <span class="runner-position-pos">
                        <strong>{{ runner.ifWin | format }}</strong>
                    </span>
                    <span class="position-minus" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span v-else>
                    <span class="position-minus"><strong>{{ runner.ifWin | format }}</strong></span>
                    <span class="runner-position-pos" v-if="runner.ifLose != null && runner.ifLose != 0">
                        <strong>{{ runner.ifLose | format }}</strong>
                    </span>
                </span>
                <span class="ml-1" v-if="runner.jockeyName != null" style="font-weight: normal;">
                    <span v-if="runner.metadataDict != null && runner.metadataDict.STALL_DRAW !== undefined && runner.metadataDict.STALL_DRAW != null">
                        ({{runner.metadataDict.STALL_DRAW }})
                    </span>
                    {{ runner.jockeyName }}
                </span>
                <span v-if="Catalog.bettingType === 'LINE'">
                    &nbsp;&nbsp;<a href="#" v-on:click.prevent="ShowFancyPosition(Catalog.marketId)">Book</a>
                </span>
            </div>
        </h3>

        <template v-if="Catalog.status2 !== null && Catalog.status2 !== undefined && Catalog.bettingType === 'LINE'">
            <div class="runner-disabled">
                {{ Catalog.status2 }}
            </div>
        </template>
        <div v-else-if="Catalog.status == 'SUSPENDED' || Catalog.status == 'CLOSED'">
            <div class="runner-disabled">
                {{ Catalog.status }}
            </div>
        </div>
        <div v-else-if="IsRunnerDisabled(runner.status)">
            <div class="runner-disabled">
                {{ runner.status }}
            </div>
        </div>
        <template v-else>
            <a class="price-price price-back" :id="'B3-' + runner.selectionId" role="button" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.price3 }}</span>
                <span class="price-amount">{{ runner.size3 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back" :id="'B2-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.price2 }}</span>
                <span class="price-amount">{{ runner.size2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-back mb-show" :id="'B1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'B', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indB1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indB1 == 'd'"></span>
                <span class="price-odd">{{ runner.price1 }}</span>
                <span class="price-amount">{{ runner.size1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay ml-4 mb-show" :id="'L1-' + runner.selectionId" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 1)">
                <span class="fa fa-long-arrow-up" v-show="runner.indL1 == 'u'"></span>
                <span class="fa fa-long-arrow-down" v-show="runner.indL1 == 'd'"></span>
                <span class="price-odd">{{ runner.lay1 }}</span>
                <span class="price-amount">{{ runner.ls1 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 2)">
                <span class="price-odd">{{ runner.lay2 }}</span>
                <span class="price-amount">{{ runner.ls2 | formatForiegn }}</span>
            </a>
            <a class="price-price price-lay mr-4" v-on:click="ShowBetSlip(runner, 'L', Catalog.marketId, 3)">
                <span class="price-odd">{{ runner.lay3 }}</span>
                <span class="price-amount">{{ runner.ls3 | formatForiegn }}</span>
            </a>
        </template>
    </div>
</div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="col-lg-4 right-nav">
            <div class="right-content">
                <div class="table-wrap">
                    <div class="table-box-body">
                        <div class="btn-group btn-group-xs" style="width:100%; height:30px; margin-bottom:2px;">
                            <button class="btn btn-primary btn-xs" style="width:50%; border-right:solid" onclick="SHOWTV()">Tv</button>

                                <button class="btn btn-primary btn-xs" style="width:50%" onclick="SHOWLIVE('1.245405948')">Score Card</button>
                        </div>
                        <div id="TVDIVIFRAME" style="display:none;">
                        </div>

                        <div id="TVDIV">
                            <div class="bets">
    <div id="VBox1" style="display:none;">
        <UnrealHTML5VideoPlayer id="UnrealPlayer1"></UnrealHTML5VideoPlayer>
        <video id="streamVideo1" width="465" autoplay playsinline controls onloadedmetadata="OnMetadata()"></video>
    </div>
</div>
                        </div>

                            <div id="LIVEDIV" class="container">
                                <iframe id="livesc" src="" class="responsive-iframe" scrolling='no' frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>



<div class="bets" id="betSlip" v-show="Order.render">

    
        <strong>Bet Slip <a target="_blank" style="color:white; float:right" class="button" href="/Customer/Profile">Edit Bet Sizes</a></strong>
    

    <div class="betting-table">
        <table class="table">
            <thead>
                <tr>
                    <th>Bet for</th>
                    <th>Odds</th>
                    <th>Stake</th>
                    <th>Profit</th>
                </tr>
            </thead>
            <tbody>
                <tr v-bind:class="{ 'back': Order.side.toLowerCase() == 'b', 'lay': Order.side.toLowerCase() == 'l' }">
                    <td>{{ Order.runnerName }}</td>
                    <td width="10%">
                        <div class="quantity">
                            <input type="text" id="bet-price" 
                                   v-model="Order.price"
                                   v-on:keyup.enter="PlaceOrder()"
                                   v-on:keyup.up="PriceUp()"
                                   v-on:keyup.down="PriceDown()"
                                   v-bind:readonly="IsFixedOdds" />
                            <div class="quantity-nav">
                                <div class="quantity-button quantity-up" v-on:click="PriceUp()">
                                    <span class="fa fa-caret-up" />
                                </div>
                                <div class="quantity-button quantity-down" v-on:click="PriceDown()">
                                    <span class="fa fa-caret-down" />
                                </div>
                            </div>
                        </div>
                    </td>
                    <td width="10%">
                        <div class="stake">
                            <input type="text"
                                   id="bet-size"
                                   v-model="Order.size"
                                   v-on:keyup.enter="PlaceOrder()" />
                        </div>
                    </td>
                    <td>{{ Order.profit }} / -{{ Order.liable }}</td>
                </tr>
                <tr v-bind:class="{ 'back': Order.side.toLowerCase() == 'b', 'lay': Order.side.toLowerCase() == 'l' }">
                    <td colspan="5">
                        <table class="table">
                            <tbody>
                                <tr class="checknow">
                                    <td><span class="points"  data-amount="2000" v-on:click="SetOrderSize(2000)">2,000</span></td>
                                    <td><span class="points" v-on:click="SetOrderSize(5000)">5,000</span></td>
                                    <td><span class="points" v-on:click="SetOrderSize(10000)">10,000</span></td>
                                    <td><span class="points" v-on:click="SetOrderSize(25000)">25,000</span></td>
                                </tr>
                                <tr class="checknow">
                                    <td><span class="points" v-on:click="IncreaseOrderSize(1000)">+ 1,000</span></td>
                                    <td><span class="points" v-on:click="IncreaseOrderSize(5000)">+ 5,000</span></td>
                                    <td><span class="points" v-on:click="IncreaseOrderSize(10000)">+ 10,000</span></td>
                                    <td><span class="points" v-on:click="IncreaseOrderSize(25000)">+ 25,000</span></td>
                                </tr>
                                <tr v-if="Order.error != ''">
                                    <td class="alert-danger pr-5" colspan="4">{{ Order.error }}</td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="align-left btn btn-danger" type="reset" v-on:click="CloseBetSlip()"><b>Close</b></button>
                                    </td>
                                    <td>
                                        <button class="align-left btn btn-warning" type="reset" v-on:click="ClearBetSlip()"><b>Clear</b></button>
                                    </td>
                                    <td colspan="1"></td>
                                    <td>
                                        <div class="btn btn-primary ld-over" 
                                             v-bind:class="{ 'running': Order.working }"
                                             v-on:click="PlaceOrder()"
                                             style="cursor: pointer;">
                                            <b>Submit</b>
                                            <div class="ld ld-ball ld-flip"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="betSlipMobile" tabindex="-1" role="dialog" aria-labelledby="fancyPosition" aria-hidden="true">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content" v-bind:class="{ 'back': Order.side.toLowerCase() == 'b', 'lay': Order.side.toLowerCase() == 'l' }">
            <div class="modal-body">
                <table>
                    <tr>
                        <td>&nbsp;</td>
                        <th colspan="3">{{ Order.runnerName }}</th>
                    </tr>
                    <tr>
                        <td>ODDS</td>
                        <td colspan="2">
                            <div class="input-group mt-2">
                                <div class="input-group-prepend">
                                    <button type="button" class="btn btn-outline-secondary" v-on:click="PriceDown()">
                                        <strong>-</strong>
                                    </button>
                                </div>
                                <input type="number" id="bet-price"
                                       class="form-control"
                                       v-model="Order.price"
                                       v-on:keyup.enter="PlaceOrder()"
                                       v-on:keyup.up="PriceUp()"
                                       v-on:keyup.down="PriceDown()"
                                       v-bind:readonly="IsFixedOdds"
                                       step="0.01"
                                       min="1.01"
                                       max="1000" />
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" v-on:click="PriceUp()">
                                        <strong>+</strong>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Amount</td>
                        <td colspan="2">
                            <input type="number" id="bet-size-m" class="form-control mt-2" v-model="Order.size">
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 25%">
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" data-amount="2000" v-on:click="SetOrderSize(2000)">
                                2,000
                            </button>
                        </td>
                        <td style="width: 25%">
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="SetOrderSize(5000)">
                                5,000
                            </button>
                        </td>
                        <td style="width: 25%">
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="SetOrderSize(10000)">
                                10,000
                            </button>
                        </td>
                        <td style="width: 25%">
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="SetOrderSize(25000)">
                                25,000
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="IncreaseOrderSize(1000)">
                                +1,000
                            </button>
                        </td>
                        <td>
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="IncreaseOrderSize(5000)">
                                +5,000
                            </button>
                        </td>
                        <td>
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="IncreaseOrderSize(10000)">
                                +10,000
                            </button>
                        </td>
                        <td>
                            <button style="touch-action:manipulation;" type="button" class="btn btn-secondary btn-block mt-2" v-on:click="IncreaseOrderSize(25000)">
                                +25,000
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button style="touch-action:manipulation;" type="button" data-dismiss="modal" class="btn btn-danger mt-2">
                                Close
                            </button>
                        </td>
                        <td colspan="2">
                            <div class="btn btn-primary ld-over mt-2"
                                 v-bind:class="{ 'running': Order.working }"
                                 v-on:click="PlaceOrder()"
                                 style="cursor: pointer;">
                                <b>Submit</b>
                                <div class="ld ld-ball ld-flip"></div>
                            </div>
                            <span>{{ Order.profit }} / -{{ Order.liable }}</span>
                        </td>
                    </tr>
                    <tr v-show="Order.error !== '' && Order.error !== undefined">
                        <td class="alert-danger pr-5" colspan="4">{{ Order.error }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- <div id="app">
  <div class="bets">
    <strong>
      Open Bets ({{ UnMatched.length }})
      <span v-if="isConnected">🟢</span>
      <button 
        v-if="UnMatched.length > 0"
        class="btn-del"
        style="float:right; color:white; background-color:red; height:22px; padding-top:0px; margin-top:1px;"
        v-on:click="CancelAll()">
        Cancel All
      </button>
    </strong>
    <div class="betting-table">
      <table class="table">
        <thead>
          <tr>
            <th>Runner</th>
            <th>Price</th>
            <th>Size</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr v-bind:class="{ 'back': order.bs === 'B', 'lay': order.bs === 'L' }"
              v-for="order in UnMatched"
              :key="order.orderId">
            <td>{{ order.rn }}</td>
            <td>{{ order.up }}</td>
            <td>{{ order.us | format }}</td>
            <td>
              <button class="btn-del" v-on:click="Cancel(order)">
                <i class="fa fa-window-close"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="bets">
    <strong>Matched Bets ({{ Matched.length }})</strong>
    <div class="betting-table">
      <table class="table">
        <thead>
          <tr>
            <th>Runner</th>
            <th>Price</th>
            <th>Size</th>
            <th>Match Id</th>
          </tr>
        </thead>
        <tbody>
          <tr v-bind:class="{ 'back': order.bs === 'B', 'lay': order.bs === 'L' }"
              v-for="order in Matched"
              :key="order.orderId">
            <td>{{ order.rn }}</td>
            <td>{{ order.mp }}</td>
            <td>{{ order.ms | format }}</td>
            <td>{{ order.matchId }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> -->
<div id="app">
  <div class="bets">
    <strong>
      Open Bets (<span id="unmatched-count">0</span>)
      <span id="isConnected" style="display:none">🟢</span>
      <button id="cancelAllBtn"
        class="btn-del"
        style="float:right; display:none;"
        onclick="cancelAll()">
        Cancel All
      </button>
    </strong>
    <div class="betting-table">
      <table class="table">
        <thead>
          <tr>
            <th>Runner</th>
            <th>Price</th>
            <th>Size</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="unmatched-body"></tbody>
      </table>
    </div>
  </div>

  <div class="bets">
    <strong>Matched Bets (<span id="matched-count">0</span>)</strong>
    <div class="betting-table">
      <table class="table">
        <thead>
          <tr>
            <th>Runner</th>
            <th>Price</th>
            <th>Size</th>
            <!-- <th>Match Id</th> -->
          </tr>
        </thead>
        <tbody id="matched-body"></tbody>
      </table>
    </div>
  </div>
</div>

<div style="margin-top:7px;">
    <strong style="display: block; background: #2b2f35; color: #fff; padding:10px;" class="RM_In_Markets">Related Events</strong>
    <div >
        <table  class="table compact" style="margin-bottom:0px;">
              <tbody id="relatedEventsBody"></tbody>


              
        </table>
    </div>
</div>


















                    </div>
                </div>
            </div>
        </div>

        <!-- Fancy Position -->
<div class="modal fade" id="fancyPosition" tabindex="-1" role="dialog" aria-labelledby="fancyPosition" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{ SelectMarketName }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div id="fancypos-body" class="modal-body">
                <table class="table">
                    <tr>
                        <th>Score</th>
                        <th>Position</th>
                    </tr>
                    <tr v-for="item in SelectFancyPos">
                        <td>{{ item.score }}</td>
                        <td class="position-plus" v-if="item.position >= 0">
                            {{ item.position }}
                        </td>
                        <td class="position-minus" v-else>{{ item.position }}</td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Market Rules -->
<div class="modal fade" id="modalRules" tabindex="-1" role="dialog" aria-labelledby="fancyPosition" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Market Rules</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div id="rules-box" class="modal-body">
                
            </div>
        </div>
    </div>
</div>
    </div>
</div>


                </div>
            </div>
        </div>
    </div>

    <!-- Market Rules -->
    <div class="modal fade" id="modalMarketRules" tabindex="-1" role="dialog" aria-labelledby="modalMarketRules" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Market Rules</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="market-rules-text" class="modal-body">
                </div>
            </div>
        </div>
    </div>

    <!-- ToS -->
    <div class="modal fade" id="modalTos" tabindex="-1" role="dialog" aria-labelledby="modalTos" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Terms and conditions</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <b>Protection of minors</b>
                    <br />
                    <p> It is illegal for anybody under the age of 18 to gamble. </p>
                    <br />
                    <p>Our site has strict policies and verification measures to prevent access to minors.</p>
                    <br />
                    <p>We encourage parents consider the use of internet use protection tools. You may find the following links useful. </p>
                    <br />
                    <a href="https://www.cyberpatrol.com/" target="_blank" style="color:mediumspringgreen">  Cyberpatrol</a>
                    <br />
                    <a href="https://www.cybersitter.com/" target="_blank" style="color:mediumspringgreen">  Cybersitter </a>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <footer id="sticky-footer" class="py-1 bg-dark text-white-50 Bl_NT_SF">
        <div class="col-12 container" style="background-color:#4dbd74; height:6px; margin-top:-4px;">
        </div>
        <div class="container text-center">
            <center>
                    
<style>
    p{
        font-size:12px;
        color:white;
    }
    .caoimg{
        max-width:60px;
    }
    .bffooter{
                    width: 135px;
                    height: 30px;
            }
            .curasaoLinks {
               pointer-events: none;
               cursor: default;
               margin-top:10px;
            }
@media screen and (max-width: 635px) {
            .caoimg {
                max-width:40px;
            }
            .bffooter{
                    width: 100px;
                    height: 30px;
            }
        }
</style>


<div class="curasaoLinks row" style="display:inline-flex;" id="curacaodiv">
</div>
<!-- Vue 2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<!-- <script>
document.addEventListener("DOMContentLoaded", async () => {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch("http://localhost:5000/api/users/latest", {
      headers: { "Authorization": "Bearer " + token }
    });
    const data = await res.json();

    if (data.success && data.user) {
      const user = data.user;

      // Username ko button me update karo
      const userBtn = document.getElementById("navbar-user");
      if (userBtn) userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

      // Wallet balance update
      const walletBalance = document.querySelector(".wallet-balance");
     if (walletBalance) walletBalance.textContent = `B: ${Math.floor(user.wallet_balance ?? 0)}`;

      // Wallet exposure update
      const walletExposure = document.querySelector(".wallet-exposure");
      if (walletExposure) walletExposure.textContent = ` | L: -${Math.floor(user.liable ?? 0)}`;
    }
  } catch (err) {
    console.error("Error loading latest user info:", err);
  }
});
</script> -->


<!-- <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->


<!-- <script>
const socket = io("http://localhost:5000");
// const ordersUrl = "http://localhost:5000";

new Vue({
  el: "#app",
  data() {
    return {
      UnMatched: [],
      Matched: [],
      selectedMatchId: null,
      isConnected: false,
      _betsTimer: null
    };
  },

  filters: {
    format(v) {
      if (!v) return "";
      return Number(v).toLocaleString();
    }
  },

  methods: {
    upsertOrders(targetList, newOrders, status) {
      const map = {};
      targetList.forEach(o => { map[o.orderId] = o; });

      newOrders.forEach(o => {
        const id = o.orderId || o.requestId;
        map[id] = {
          orderId: id,
          rn: o.runnerName || o.selectionId,
          up: o.price,
          us: o.size,
          mp: o.price,
          ms: o.size,
          bs: (o.side || o.type || "").toUpperCase(),
          matchId: o.matchId || o.marketId,
          status
        };
      });

      return Object.values(map);
    },

    async fetchUnMatched() {
      try {
        const token = localStorage.getItem("token");
        const res = await fetch(`${ordersUrl}/orders/unmatched?matchId=${this.selectedMatchId}`, {
          headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        this.UnMatched = this.upsertOrders(this.UnMatched, list, "PENDING");
        console.log("🟢 UnMatched merged:", this.UnMatched);
      } catch (err) {
        console.error("❌ Unmatched fetch error:", err);
      }
    },

    async fetchMatched() {
      try {
        const token = localStorage.getItem("token");
        const res = await fetch(`${ordersUrl}/orders/matched?matchId=${this.selectedMatchId}`, {
          headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        this.Matched = this.upsertOrders(this.Matched, list, "MATCHED");
        console.log("🟢 Matched merged:", this.Matched);
      } catch (err) {
        console.error("❌ Matched fetch error:", err);
      }
    },

    refreshBets() {
      console.log("🔄 Refreshing bets...");
      return Promise.all([this.fetchUnMatched(), this.fetchMatched()]);
    },

    handleOrdersUpdate(data) {
      console.log("📡 Socket update:", data);
      if (!data || !Array.isArray(data.newOrders)) return;

      const unmatched = data.newOrders.filter(o => o.status === "PENDING");
      const matched = data.newOrders.filter(o => o.status === "MATCHED");

      this.UnMatched = this.upsertOrders(this.UnMatched, unmatched, "PENDING");
      this.Matched = this.upsertOrders(this.Matched, matched, "MATCHED");

      console.log("🟢 UI updated via socket:", this.UnMatched.length, this.Matched.length);
    }
  },

  mounted() {
    const params = new URLSearchParams(window.location.search);
    this.selectedMatchId = params.get("id");

    if (this.selectedMatchId) {
      socket.on("connect", () => {
        console.log("⚡ Connected to server");
        this.isConnected = true;

        const token = localStorage.getItem("token");
        socket.emit("JoinMatch", { matchId: this.selectedMatchId, token }, ack => {
          console.log("📡 JoinMatch ack:", ack);
          this.refreshBets();
        });
      });
    }

    socket.on("disconnect", () => {
      console.log("❌ Disconnected");
      this.isConnected = false;
    });

    socket.on("ordersUpdated", this.handleOrdersUpdate);

    this._betsTimer = setInterval(() => {
      if (this.selectedMatchId && this.isConnected) {
        this.refreshBets();
      }
    }, 5000);
  },

  beforeDestroy() {
    if (this._betsTimer) clearInterval(this._betsTimer);
    socket.off("connect");
    socket.off("disconnect");
    socket.off("ordersUpdated");
  }
});
</script> -->
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<!-- <script>
const socket = io("http://localhost:5000");
const matchId = new URLSearchParams(window.location.search).get("id");
const token = localStorage.getItem("token");

let UnMatched = [];
let Matched = [];
let runnerPnL = {};
let allRunners = [];

// ---------------------------
// Utilities
// ---------------------------
function format(n) {
    return Number(n || 0).toLocaleString();
}

// ---------------------------
// USER INFO (WALLET + LIABILITY)
// ---------------------------
async function updateUserWallet() {
    if (!token) return;

    try {
        const res = await fetch("http://localhost:5000/api/users/latest", {
            headers: { "Authorization": "Bearer " + token }
        });
        const data = await res.json();
        if (data.success && data.user) {
            const user = data.user;

            // Navbar username + role
            const userBtn = document.getElementById("navbar-user");
            if (userBtn) userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

            // Wallet balance
            const walletBalance = document.querySelector(".wallet-balance");
            if (walletBalance) walletBalance.textContent = `B: ${Math.floor(user.wallet_balance ?? 0)}`;

            // Wallet exposure/liability
            const walletExposure = document.querySelector(".wallet-exposure");
            if (walletExposure) walletExposure.textContent = `| L: -${Math.floor(user.liable ?? 0)}`;
        }
    } catch (err) {
        console.error("Error loading latest user info:", err);
    }
}

// ---------------------------
// PNL CALCULATIONS
// ---------------------------
function calculateRunnerPnL(runnerName) {
  let profit = 0;
  let liability = 0;
  const normalizedRunnerName = runnerName.trim().toLowerCase();

  Matched.forEach(order => {
    const rn = (order.rn || "").trim().toLowerCase();
    const odds = Number(order.mp || 0);
    const stake = Number(order.ms || 0);
    const side = (order.bs || "").toUpperCase();

    if (!rn || odds === 0 || stake === 0) return;

    if (rn === normalizedRunnerName) {
      // Bets on this runner
      if (side === "B") {
        profit += (odds - 1) * stake;
      } else if (side === "L") {
        liability += (odds - 1) * stake;
      }
    } else {
      // Bets on other runners affect this runner
      if (side === "B") {
        liability += stake; // Back on other runner increases this runner's liability
      } else if (side === "L") {
        profit += stake; // Lay on other runner increases this runner's profit
      }
    }
  });

  return { profit, liability, net: profit - liability };
}
function updateRunnerPnL() {
  const matchedRunners = [...new Set(Matched.map(o => o.rn))];
  allRunners = [...new Set([...allRunners, ...matchedRunners])];
  runnerPnL = {};

  allRunners.forEach(runner => {
    const { profit, liability, net } = calculateRunnerPnL(runner);
    runnerPnL[runner] = { profit, liability, net };
  });
}
// ---------------------------
// RENDER TABLES
// ---------------------------
function render() {
  updateRunnerPnL();

  // --- Unmatched Orders ---
  const ub = document.getElementById("unmatched-body");
  ub.innerHTML = "";
  UnMatched.forEach(o => {
    const tr = document.createElement("tr");
    tr.className = o.bs === "B" ? "back" : "lay";
    tr.innerHTML = `
      <td>${o.rn}</td>
      <td>${o.up}</td>
      <td>${format(o.us)}</td>
      <td><button class="btn-del" onclick="cancelOrder('${o.orderId}')">X</button></td>
    `;
    ub.appendChild(tr);
  });
  document.getElementById("unmatched-count").textContent = UnMatched.length;
  document.getElementById("cancelAllBtn").style.display = UnMatched.length > 0 ? "inline-block" : "none";

  // --- Matched Orders ---
  const mb = document.getElementById("matched-body");
  mb.innerHTML = "";
  allRunners.forEach(runner => {
    const runnerOrders = Matched.filter(o => o.rn.toLowerCase() === runner.toLowerCase());
    const { profit = 0, liability = 0, net = 0 } = runnerPnL[runner] || {};
    const profitClass = profit >= 0 ? "profit" : "liability";
    const liabilityClass = liability > 0 ? "liability" : "profit";

    if (runnerOrders.length > 0) {
      runnerOrders.forEach(o => {
        const tr = document.createElement("tr");
        tr.className = o.bs === "B" ? "back" : "lay";
        tr.innerHTML = `
          <td>${o.rn}</td>
          <td>${o.mp}</td>
          <td>${format(o.ms)}</td>
          <td class="${profitClass}">${format(profit)}</td>
          <td class="${liabilityClass}">${format(-liability)}</td>
          <td class="${net >= 0 ? 'profit' : 'liability'}">${format(net)}</td>
        `;
        mb.appendChild(tr);
      });
    } else {
      const tr = document.createElement("tr");
      tr.className = "no-bet";
      tr.innerHTML = `
        <td>${runner}</td>
        <td>-</td>
        <td>-</td>
        <td class="${profitClass}">${format(profit)}</td>
        <td class="${liabilityClass}">${format(-liability)}</td>
        <td class="${net >= 0 ? 'profit' : 'liability'}">${format(net)}</td>
      `;
      mb.appendChild(tr);
    }
  });
  document.getElementById("matched-count").textContent = Matched.length;
  window.dispatchEvent(new Event("runnerPnLUpdated"));
  updateUserWallet(); // Refresh wallet
}
// Utility to get runner P&L externally
window.getRunnerAmounts = function(runnerName) {
    const normalized = runnerName.trim().toLowerCase();
    const key = Object.keys(runnerPnL).find(k => k.trim().toLowerCase() === normalized);
    return runnerPnL[key] || 0;
};

// ---------------------------
// API HELPERS
// ---------------------------
async function fetchUnMatched() {
    try {
        const res = await fetch(`${ordersUrl}/orders/unmatched?matchId=${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        UnMatched = list.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            up: o.price,
            us: o.size,
            bs: (o.side || o.type || "").toUpperCase()
        }));
        render();
    } catch (e) { console.error("Error fetching unmatched:", e); }
}

async function fetchMatched() {
    try {
        const res = await fetch(`${ordersUrl}/orders/matched?matchId=${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        Matched = list.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            mp: o.price,
            ms: o.size,
            bs: (o.side || o.type || "").toUpperCase(),
            matchId: o.matchId || o.marketId
        }));
        render();
    } catch (e) { console.error("Error fetching matched:", e); }
}

async function fetchRunners() {
    try {
        const res = await fetch(`${ordersUrl}/markets/${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        const market = await res.json();
        if (market && Array.isArray(market.runners) && market.runners.length > 0) {
            allRunners = market.runners.map(r => r.runnerName || r.selectionId);
        }
    } catch (e) { console.error("Error fetching runners:", e); }
}

// Cancel orders
async function cancelOrder(orderId) {
    try {
        await fetch(`${ordersUrl}/orders/cancel/${orderId}`, { method: "POST" });
        fetchUnMatched();
        updateUserWallet();
    } catch (e) { console.error("Error canceling order:", e); }
}

async function cancelAll() {
    try {
        await fetch(`${ordersUrl}/orders/cancelAll?matchId=${matchId}`, { method: "POST" });
        fetchUnMatched();
        updateUserWallet();
    } catch (e) { console.error("Error canceling all:", e); }
}

// ---------------------------
// SOCKET EVENTS
// ---------------------------
socket.on("connect", async () => {
    document.getElementById("isConnected").style.display = "inline";
    socket.emit("JoinMatch", { matchId }, async ack => {
        await fetchRunners();
        await fetchUnMatched();
        await fetchMatched();
        await updateUserWallet();
    });
});

socket.on("disconnect", () => {
    document.getElementById("isConnected").style.display = "none";
});

socket.on("ordersUpdated", data => {
    if (!data || !Array.isArray(data.newOrders)) return;
    const unmatched = data.newOrders.filter(o => o.status === "PENDING");
    const matched = data.newOrders.filter(o => o.status === "MATCHED");

    if (unmatched.length) {
        UnMatched = unmatched.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            up: o.price,
            us: o.size,
            bs: (o.side || o.type || "").toUpperCase()
        }));
    }

    if (matched.length) {
        Matched = matched.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            mp: o.price,
            ms: o.size,
            bs: (o.side || o.type || "").toUpperCase(),
            matchId: o.matchId || o.marketId
        }));
    }

    render();
});

// ---------------------------
// AUTO REFRESH
// ---------------------------
setInterval(() => {
    if (matchId) {
        fetchUnMatched();
        fetchMatched();
    }
}, 5000);

document.addEventListener("DOMContentLoaded", updateUserWallet);
</script> -->
<script>
const socket = io("https://bettingbackending.work.gd");
const matchId = new URLSearchParams(window.location.search).get("id");
const token = localStorage.getItem("token");

let UnMatched = [];
let Matched = [];
let runnerPnL = {};
let allRunners = [];

// ---------------------------
// Utilities
// ---------------------------
function format(n) {
    return Number(n || 0).toLocaleString();
}

// ---------------------------
// USER INFO (WALLET + LIABILITY)
// ---------------------------
async function updateUserWallet() {
    if (!token) return;

    try {
        const res = await fetch("https://bettingbackending.work.gd/api/users/latest", {
            headers: { "Authorization": "Bearer " + token }
        });
        const data = await res.json();
        if (data.success && data.user) {
            const user = data.user;

            // Navbar username + role
            const userBtn = document.getElementById("navbar-user");
            if (userBtn) userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

            // Wallet balance
            const walletBalance = document.querySelector(".wallet-balance");
            if (walletBalance) walletBalance.textContent = `B: ${Math.floor(user.wallet_balance ?? 0)}`;

            // Wallet exposure/liability
            const walletExposure = document.querySelector(".wallet-exposure");
            if (walletExposure) walletExposure.textContent = `| L: -${Math.floor(user.liable ?? 0)}`;
        }
    } catch (err) {
        console.error("Error loading latest user info:", err);
    }
}

// ---------------------------
// PNL CALCULATIONS
// ---------------------------
function calculateRunnerPnL(runnerName) {
  let profit = 0;
  let liability = 0;
  const normalizedRunnerName = runnerName.trim().toLowerCase();

  Matched.forEach(order => {
    const rn = (order.rn || "").trim().toLowerCase();
    const odds = Number(order.mp || 0);
    const stake = Number(order.ms || 0);
    const side = (order.bs || "").toUpperCase();

    if (!rn || odds === 0 || stake === 0) return;

    if (rn === normalizedRunnerName) {
      // Bets on this runner
      if (side === "B") {
        profit += (odds - 1) * stake;
      } else if (side === "L") {
        liability += (odds - 1) * stake;
      }
    } else {
      // Bets on other runners affect this runner
      if (side === "B") {
        liability += stake; // Back on other runner increases this runner's liability
      } else if (side === "L") {
        profit += stake; // Lay on other runner increases this runner's profit
      }
    }
  });

  return { profit, liability, net: profit - liability };
}
function updateRunnerPnL() {
  const matchedRunners = [...new Set(Matched.map(o => o.rn))];
  allRunners = [...new Set([...allRunners, ...matchedRunners])];
  runnerPnL = {};

  allRunners.forEach(runner => {
    const { profit, liability, net } = calculateRunnerPnL(runner);
    runnerPnL[runner] = { profit, liability, net };
  });
}
// ---------------------------
// RENDER TABLES
// ---------------------------
function render() {
  updateRunnerPnL();

  // --- Unmatched Orders ---
  const ub = document.getElementById("unmatched-body");
  ub.innerHTML = "";
  UnMatched.forEach(o => {
    const tr = document.createElement("tr");
    tr.className = o.bs === "B" ? "back" : "lay";
    tr.innerHTML = `
      <td>${o.rn}</td>
      <td>${o.up}</td>
      <td>${format(o.us)}</td>
      <td><button class="btn-del" onclick="cancelOrder('${o.orderId}')">X</button></td>
    `;
    ub.appendChild(tr);
  });
  document.getElementById("unmatched-count").textContent = UnMatched.length;
  document.getElementById("cancelAllBtn").style.display = UnMatched.length > 0 ? "inline-block" : "none";

  // --- Matched Orders ---
  const mb = document.getElementById("matched-body");
  mb.innerHTML = "";
  allRunners.forEach(runner => {
    const runnerOrders = Matched.filter(o => o.rn.toLowerCase() === runner.toLowerCase());
    const { profit = 0, liability = 0, net = 0 } = runnerPnL[runner] || {};
    const profitClass = profit >= 0 ? "profit" : "liability";
    const liabilityClass = liability > 0 ? "liability" : "profit";

    if (runnerOrders.length > 0) {
      runnerOrders.forEach(o => {
        const tr = document.createElement("tr");
        tr.className = o.bs === "B" ? "back" : "lay";
        tr.innerHTML = `
          <td>${o.rn}</td>
          <td>${o.mp}</td>
          <td>${format(o.ms)}</td>
          <td class="${profitClass}">${format(profit)}</td>
          <td class="${liabilityClass}">${format(-liability)}</td>
          <td class="${net >= 0 ? 'profit' : 'liability'}">${format(net)}</td>
        `;
        mb.appendChild(tr);
      });
    } else {
      const tr = document.createElement("tr");
      tr.className = "no-bet";
      tr.innerHTML = `
        <td>${runner}</td>
        <td>-</td>
        <td>-</td>
        <td class="${profitClass}">${format(profit)}</td>
        <td class="${liabilityClass}">${format(-liability)}</td>
        <td class="${net >= 0 ? 'profit' : 'liability'}">${format(net)}</td>
      `;
      mb.appendChild(tr);
    }
  });
  document.getElementById("matched-count").textContent = Matched.length;
  window.dispatchEvent(new Event("runnerPnLUpdated"));
  updateUserWallet(); // Refresh wallet
}
// Utility to get runner P&L externally
window.getRunnerAmounts = function(runnerName) {
    const normalized = runnerName.trim().toLowerCase();
    const key = Object.keys(runnerPnL).find(k => k.trim().toLowerCase() === normalized);
    return runnerPnL[key] || 0;
};

// ---------------------------
// API HELPERS
// ---------------------------
async function fetchUnMatched() {
    try {
        const res = await fetch(`${ordersUrl}/orders/unmatched?matchId=${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        UnMatched = list.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            up: o.price,
            us: o.size,
            bs: (o.side || o.type || "").toUpperCase()
        }));
        render();
    } catch (e) { console.error("Error fetching unmatched:", e); }
}

async function fetchMatched() {
    try {
        const res = await fetch(`${ordersUrl}/orders/matched?matchId=${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        let list = await res.json();
        if (!Array.isArray(list)) list = list.orders || [];

        Matched = list.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            mp: o.price,
            ms: o.size,
            bs: (o.side || o.type || "").toUpperCase(),
            matchId: o.matchId || o.marketId
        }));
        render();
    } catch (e) { console.error("Error fetching matched:", e); }
}

async function fetchRunners() {
    try {
        const res = await fetch(`${ordersUrl}/markets/${matchId}`, {
            headers: { "Authorization": `Bearer ${token}` }
        });
        const market = await res.json();
        if (market && Array.isArray(market.runners) && market.runners.length > 0) {
            allRunners = market.runners.map(r => r.runnerName || r.selectionId);
        }
    } catch (e) { console.error("Error fetching runners:", e); }
}

// Cancel orders
async function cancelOrder(orderId) {
    try {
        await fetch(`${ordersUrl}/orders/cancel/${orderId}`, { method: "POST" });
        fetchUnMatched();
        updateUserWallet();
    } catch (e) { console.error("Error canceling order:", e); }
}

async function cancelAll() {
    try {
        await fetch(`${ordersUrl}/orders/cancelAll?matchId=${matchId}`, { method: "POST" });
        fetchUnMatched();
        updateUserWallet();
    } catch (e) { console.error("Error canceling all:", e); }
}

// ---------------------------
// SOCKET EVENTS
// ---------------------------
socket.on("connect", async () => {
    document.getElementById("isConnected").style.display = "inline";
    socket.emit("JoinMatch", { matchId }, async ack => {
        await fetchRunners();
        await fetchUnMatched();
        await fetchMatched();
        await updateUserWallet();
    });
});

socket.on("disconnect", () => {
    document.getElementById("isConnected").style.display = "none";
});

socket.on("ordersUpdated", data => {
    if (!data || !Array.isArray(data.newOrders)) return;
    const unmatched = data.newOrders.filter(o => o.status === "PENDING");
    const matched = data.newOrders.filter(o => o.status === "MATCHED");

    if (unmatched.length) {
        UnMatched = unmatched.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            up: o.price,
            us: o.size,
            bs: (o.side || o.type || "").toUpperCase()
        }));
    }

    if (matched.length) {
        Matched = matched.map(o => ({
            orderId: o.orderId || o.requestId,
            rn: o.runnerName || o.selectionId,
            mp: o.price,
            ms: o.size,
            bs: (o.side || o.type || "").toUpperCase(),
            matchId: o.matchId || o.marketId
        }));
    }

    render();
});

// ---------------------------
// AUTO REFRESH
// ---------------------------
setInterval(() => {
    if (matchId) {
        fetchUnMatched();
        fetchMatched();
    }
}, 5000);

document.addEventListener("DOMContentLoaded", updateUserWallet);
</script> 
            </center>
           
        </div>
    </footer>
    <script type="text/javascript" src="https://wurfl.io/wurfl.js"></script>
    <script type="text/javascript" src="/dist/bundle0a.js"></script>

    <script>
        // const token = getCookie('wexscktoken');
        const sess = getCookie('wex3authtoken');
        const reft = getCookie('wex3reftoken');
    </script>

    
    
        <script src="/js/mv2.min.js"></script>
    <!-- <script>
export default {
  data() {
    return {
      UnMatched: [],
      Matched: [],
      isSignalRConnected: true, // default true, agar ws use karte ho to change kar lena
    };
  },
  methods: {
    async fetchUnMatched() {
      try {
        const res = await fetch("/orders/unmatched", {
          headers: {
            "Authorization": "Bearer " + localStorage.getItem("wex3authtoken")
          }
        });
        const data = await res.json();
        this.UnMatched = data;
      } catch (err) {
        console.error("Error fetching unmatched:", err);
      }
    },
    async fetchMatched() {
      try {
        const res = await fetch("/orders/matched", {
          headers: {
            "Authorization": "Bearer " + localStorage.getItem("wex3authtoken")
          }
        });
        const data = await res.json();
        this.Matched = data;
      } catch (err) {
        console.error("Error fetching matched:", err);
      }
    },
    async refreshBets() {
      await this.fetchUnMatched();
      await this.fetchMatched();
    },
    CancelAll() {
      // yahan tum cancel route call kar sakte ho
      console.log("Cancel all bets");
    },
    Cancel(order) {
      // cancel single bet
      console.log("Cancel order", order);
    }
  },
  mounted() {
    this.refreshBets();

    // har 5 second mein refresh kar lo
    setInterval(() => {
      this.refreshBets();
    }, 5000);
  }
};
</script> -->

    
    <script>
        var show_tv_tab = false;
        var LastTab = "";
        var lastheight = 0;


        $(document).ready(function () {
            MarketFactory();
            $("#TVDIV").on("click", "#UnrealPlayer1_volume", function () {
                displayDate();
            });
            if (show_tv_tab) {
                SHOWTV();
            } else {
                SHOWLIVE(marketId)
            }
            $("#LIVEDIV").show();

            setInterval(removeTabs, 500);
            setInterval(resizeiframe, 500);

            let ifrEl = document.querySelector("#livesc");
            if (ifrEl != null) {
                setTimeout(function () { 
                    ifrEl.src = `https://bpexch.xyz/Common/LiveScoreCard?id=${marketId}`; 
                }, 2000);
            }
            setTimeout(function() { PremiumSportsIframeset()}, 2000);
            
        });

        function PremiumSportsIframeset() {
            var DivFound = document.getElementById("premiumsportsiframediv");
            if (DivFound !== null && DivFound !== undefined) {
                document.getElementById("premiumsportsiframediv").innerHTML = '<iframe id="premiumsportsiframe" frameborder="0" scrolling="yes" style="display:block; width:100%; height:800px;" src=""/>';
            };
        }

        function resizeiframe() {
            if (lastheight != 0) {
                setIframeHeight(lastheight);
            }
            var Iframe = document.getElementById('TVIFRAME');
            if (Iframe != null && Iframe != undefined) {
                resizeIFrameToFitContent(Iframe);
            }
            var Data = document.getElementById("premiumsportsiframe");
            if(Data != null)
            {
                document.getElementById("premiumsportsiframediv").style.height = document.getElementById("premiumsportsiframe").contentWindow.parent.innerHeight + 'px';
            }
        }

        function resizeIFrameToFitContent(iFrame) {
            try{
                iFrame.width = '100%';
                iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
                var height = iFrame.contentWindow.document.body.scrollHeight + 'px';
                document.getElementById('TVIFRAME').style.height = height;
            }
            catch {}
        }

        function removeTabs() {
            if (LastTab !== "") {
                var closed = document.getElementById(LastTab);
                if (closed === null) {
                    MarketTab('All');
                }
            }

        }

        var Show = true;

        function displayDate() {
            var avail = document.getElementById('UnrealPlayer1_volSlider');
            if (avail != null) {
                var width = screen.width;
                if (width <= 470) {
                    avail.style.top = '206px';
                    avail.style.left = '71vw';
                } else {
                    avail.style.top = '200px';
                    avail.style.left = '461px';
                }
            }
        }
        
        function StatusCon() {
            setTimeout(function () {
                var avail = document.getElementById('UnrealPlayer1_statusmessage');
                if (avail != null) {
                    var width = screen.width;
                    if (width <= 470) {
                        avail.style.top = '0px';
                        avail.style.width = '100vw';
                    }
                }
            }, 700)
        }

        function show(v) {

            if (show_tv_tab) {
                return;
            }
            if (v != 0) {
                $("#LIVEDIV").show();
            } else {
                $("#LIVEDIV").hide();
            }
        }

        function setIframeHeight(h) {

            if (h < 5) {
                $("#LIVEDIV").hide();
            }

            if (h === undefined || h == null) {
                h = 0;
            }

            if (Math.abs(lastheight - h) < 10) {
                return;
            }

            lastheight = h;
            var formain = h + 11;
            var foriframe = h + 50;

            var obj = document.getElementById("LIVEDIV");
            obj.style.height = formain + "px";

            var obj = document.getElementById("livesc");
            obj.style.height = foriframe + "px";
        }

        function onMessage(event) {
            if (Show) {
                setIframeHeight(event.data['h']);
                show(event.data['show']);
            }
        }

        if (window.addEventListener) {
            window.addEventListener("message", onMessage, false);
        }
        else if (window.attachEvent) {
            window.attachEvent("onmessage", onMessage, false);
        }
        
        function SHOWTV() {
            show_tv_tab = true;
            if ($("#TVDIV").is(":visible")) {
                $("#TVDIV").hide();
                $("#LIVEDIV").hide();
                clearInterval();
                $("#sr-widget").hide();
                var element = document.getElementById("UnrealPlayer1_Video");
                if (element != null) {
                    element.parentNode.removeChild(element);
                    streams.forEach(function (str) {
                        if (str.player !== null) {
                            str.player.Stop();
                        }
                        document.querySelector(str.container).style.display = 'none';
                        document.querySelector(str.el).style.display = 'none';
                        document.querySelector(str.unreal).style.display = 'none';
                        document.querySelector(str.unreal).player = null;
                    });
                }
            } else {
                PlayChannelFunction();
                $("#LIVEDIV").hide();
                $("#sr-widget").hide();
                StatusCon();
            }
        }

        function PlayChannelFunction() {
            $.get('/Common/Market?handler=ChannelData&Evid=' + 34484327, function (data) {
                if (data == '') {
                    if ($("#TVDIVIFRAME").is(":visible")) {
                        document.getElementById('TVDIVIFRAME').innerHTML = "";
                        $("#TVDIVIFRAME").hide();
                    } else {
                        document.getElementById('TVDIVIFRAME').innerHTML = "<iframe scrolling=no frameborder='no' id='TVIFRAME' src='https://www.bpexch.xyz/Common/TvIframe?id=34484327'></iframe>";
                        $("#TVDIVIFRAME").show();
                    }
                } else {
                    document.getElementById('TVDIVIFRAME').innerHTML = "";
                    $("#TVDIVIFRAME").hide();
                    $("#TVDIV").show();
                    playChannel(data);
                }
            });
        }
        
        function SHOWLIVE(MID) {
            show_tv_tab = false;
            if ($("#TVDIVIFRAME").is(":visible")) {
                $("#TVDIVIFRAME").hide();
            }
            if ($("#LIVEDIV").is(":visible")) {
                $("#TVDIV").hide();
                $("#LIVEDIV").hide();
                $("#sr-widget").hide();
                var element = document.getElementById("UnrealPlayer1_Video");
                if (element != null) {
                    element.parentNode.removeChild(element);
                    streams.forEach(function (str) {
                        if (str.player !== null) {
                            str.player.Stop();
                        }
                        document.querySelector(str.container).style.display = 'none';
                        document.querySelector(str.el).style.display = 'none';
                        document.querySelector(str.unreal).style.display = 'none';
                        document.querySelector(str.unreal).player = null;
                    });
                }
            } else {
                var element = document.getElementById("UnrealPlayer1_Video");
                if (element != null) {
                    element.parentNode.removeChild(element);
                    streams.forEach(function (str) {
                        if (str.player !== null) {
                            str.player.Stop();
                        }
                        document.querySelector(str.container).style.display = 'none';
                        document.querySelector(str.el).style.display = 'none';
                        document.querySelector(str.unreal).style.display = 'none';
                        document.querySelector(str.unreal).player = null;
                    });
                }

                $("#TVDIV").hide();
                $("#LIVEDIV").show();
                $("#sr-widget").show();
            }
        }

        function MarketTab(cityName, element) {
            if (cityName === null) {
                cityName = element.id.replace('tab', '');
            }
            LastTab = cityName;
            // Declare all variables
            var i, tabcontent, tablinks;
            var tabclr = cityName + 'tab';

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("bbactive");
            }

            for (i = 0; i < tablinks.length; i++) {
                //tablinks[i].className = tablinks[i].className.replace(" active", "");
                tablinks[i].style.backgroundColor = "";
                tablinks[i].style.display = "inline-block"
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(cityName).style.display = "block";
            document.getElementById(tabclr).style.backgroundColor = "black";
            document.getElementById(tabclr).style.color = "white";
            document.getElementById(tabclr).classList.add("bbactive");
        }

    </script>


    <!-- <script>
        $(document).ready(function () {
            pollRefreshToken();
        });

        if (genSck === 1) {
            const signalRConnection = new UWS(uwsUrl, token, sess);
            signalRConnection.connect();
        }
        else {
            pollUserData();
        }
    </script>   -->
</body>
</html>
