<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="google" content="notranslate" />    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Sports Trading Platform">
    <meta name="keyword" content="sports trading, bet, betfair">
    <meta name="robots" content="noindex" />

    <link rel="shortcut icon" href="/img/favicon/BetPro.ico">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/img/sprites/css/sprite.css" />
    <link rel="stylesheet" href="/dist/site.css" />
    <link href="/css/BetPro-style.css" rel="stylesheet" />

    <title>Dashboard | BetPro</title>
    <style>
        .body {
            min-height: 91.7vh;
        }

        center a {
            color: white;
        }

        center a {
            font-size: 13px;
        }
        


  
    </style>
      
    <script>
        const pricesUrl = "https://bettingbackending.work.gd/api";
        const ordersUrl = "https://bettingbackending.work.gd/api";
        const LiquidityRate = 35;
        const SsocketUrl = "https://bettingbackending.work.gd/signalr";
        const uwsUrl = "https://orders-ws2.bfexch.com/usershub";
        const genSck = 1;
        const CasSck = 1;
        const casinoUrl = "https://casino-ws.bfexch.com/signalr";
        // var SsocketEnable = 0;
    </script>
</head>
<body class="bg-gray d-flex flex-column">
    <div class="main-page">
        <div class="row no-gutters">
            <div class="col-md-3 col-lg-2" id="sidebar">
                <div class="logo-bar">
                    <a href="/Common/Dashboard">
                        <span class="green-logo-text">BetPro</span>
                    </a>
                </div>
                <div class="divider"></div>
                <div class="sidebar-menu" style="height:100%;">
                    <ul>
                        

<ul class="nav">



<style>

    @keyframes spin {
        from {
            transform: rotateY(0deg);
            moz-transform: rotateY(0deg);
            ms-transform: rotateY(0deg);
        }

        to {
            transform: rotateY(360deg);
            moz-transform: rotateY(360deg);
            ms-transform: rotateY(360deg);
        }
    }

    @-webkit-keyframes spin {
        from {
            -webkit-transform: rotateY(0deg);
        }

        to {
            -webkit-transform: rotateY(360deg);
        }
    }

    .imageSpin {
        transition-delay: 5s;
        animation-name: spin;
        animation-iteration-count: infinite;
        animation-duration: inherit;
        -webkit-animation-name: spin;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: initial;
        -webkit-animation-duration: 4s;
        -webkit-animation-delay: 2s;
    }

    .imageSpin2 {
        transition-delay: 3s;
        animation-name: spin;
        animation-iteration-count: infinite;
        animation-duration: inherit;
        -webkit-animation-name: spin;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: initial;
        -webkit-animation-duration: 3s;
        -webkit-animation-delay: 2s;
    }
   

    /*for spin2*/
    #spinning-circle {
        animation-name: spinning-circle;
        animation-duration: 5s;
        animation-iteration-count: infinite;
    }

    @-webkit-keyframes spinning-circle {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    #invertcolor {
        filter: invert(100%);
        -webkit-filter: invert(100%);
        animation-name: spinning-circle;
        animation-duration: 3s;
        animation-iteration-count: infinite;
    }
    #invertcolor2{
         filter: invert(100%);
        -webkit-filter: invert(100%);
       animation-name: spin;
        animation-duration: 4s;
        animation-iteration-count: infinite;
        max-height:30px;
    }

    #invertcolor3 {
        filter: invert(100%);
        -webkit-filter: invert(100%);
        animation-name: spin;
        animation-duration: 3s;
        animation-iteration-count: infinite;
        max-height: 30px;
    }


 .exgameblinker{
   animation: animate 8s linear infinite;
 } 
  
 @keyframes animate{
   0%{
     background-color:red;
   }
   25%{
     background-color:inherit;
   }
   50%{
     background-color:inherit;
   }
   75%{
     background-color:inherit;
   }
   100%{
     background-color:red;
   }
 }

    .Galaxyblinker {
        position: relative;
        z-index: 0;
    }

        .Galaxyblinker::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(90deg, #8a47ff 0%, #c36eff 100%);
            opacity: 1;
            animation: animateGradient 12s linear infinite;
            transition: opacity 0.5s ease;
        }

    @keyframes animateGradient {
        0%, 100%

    {
        opacity: 1;
    }

    25%, 50%, 75% {
        opacity: 0;
    }

    }

.cricketEventList {
  list-style: none;
  padding: 0;
  margin: 0;
}

.match-card {
  /* background-color: #1a1a1a; */
  color: white;
  margin-bottom: 12px;
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 16px;
  box-shadow: 0 2px 6px rgba(255, 255, 255, 0.05);
  transition: background 0.3s ease;
  cursor: pointer;
}

.match-card:hover {
  background-color: #2a2a2a;
}

</style>

        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-soccer svg-soccer-dims svg-span" role="img"></span>
                <span>Soccer</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Soccer</strong></a></li>
                    <li class="divider"></li>
                            <ul class="footballEventList">
                                </ul>
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-tennis svg-tennis-dims svg-span" role="img"></span>
                <span>Tennis</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Tennis</strong></a></li>
                    <li class="divider"></li>
                            <ul class="tennisEventList">
                            </ul>
                            <!-- </li> -->
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-cricket svg-cricket-dims svg-span" role="img"></span>
                <span>Cricket</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Cricket</strong></a></li>
                    <li class="divider"></li>
                            <ul class="cricketEventList ">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245405948"> -->
<!-- England v India                                </a> -->
                                </ul>
                            <!-- </li> -->
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-horse svg-horse-dims svg-span" role="img"></span>
                <span>Horse Race</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Horse Race</strong></a></li>
                    <li class="divider"></li>
                            <ul class="horseEventList">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245481913"> -->
                                        <!-- <span class="market-time"> -->
                                        <!-- </span> -->
                                        <!-- <span class="d-none utctime" data-format="h:mm A"> -->
                                            <!-- 2025-07-10T11:50:00.0000000Z -->
                                        <!-- </span> -->
                                        <!-- <span class="race-venue">Turffontein (ZA)</span> -->
                                        </ul>
                
                            
                            
                
                                

                                        
                            
                            
                                    
    
                
                                            
                    

                                
                                
                
                        
                                
                </ul>
            </div>
        </li>
        <li style="width:100%;">

            <a href="#" class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="svg-greyhound-racing svg-greyhound-racing-dims svg-span" role="img"></span>
                <span>Greyhound</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="nav">
                <ul class="sub-menu" href="#">

                    <li><a href="#"><strong>All Greyhound</strong></a></li>
                    <li class="divider"></li>
                            <ul class="greyhounditems">
                                <!-- <a class="nav-link" href="/Common/market/?id=1.245475078"> -->
                                        <!-- <span class="market-time"> -->
                                        <!-- </span> -->
                                        <!-- <span class="d-none utctime" data-format="h:mm A"> -->
                                            <!-- 2025-07-10T12:05:00.0000000Z -->
                                        <!-- </span> -->
                                        <!-- <span class="race-venue">Q1 Lakeside (AU)</span> -->
                                <!-- </a> -->
                            </ul>
                                        
                    
                </ul>
            </div>
        </li>


        <li class="nav-item" style="width:100%;">
            <a href="/Common/sap" class="dropdown-toggle" role="button">
                <span class="svg-Casino svg-Casino-dims imageSpin2" role="img"></span>
                <span>Sports Book</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a href="/Common/RSC" class="dropdown-toggle" role="button">
                <i style="font-size:17px;" class='fas fa-star fa-2x fa-spin fa-lg'></i>
                <span>RoyalStar Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a href="/Common/Games" class="dropdown-toggle" role="button">
                <img id="spinning-circle" src="/img/v2/livegameing.png" onerror="this.onerror = null; this.src= null" alt="G">
                <span>Star Casino</span>
            </a>

        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/WorldCasino">
                <img id="invertcolor" style="background:invert(100%)" src="/img/v2/worldcasinosvg.png" alt="WC" />
                <span>World Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/Dream">
                <span class="svg-Casino svg-Casino-dims imageSpin2" role="img"></span>
                <span>Royal Casino</span>
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/ExGames">
                <img id="invertcolor2" src="/img/v2/BLogo.png" />
                <span>BetFairGames</span>
            </a>
         </li>
        <li class="nav-item exgameblinker" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/BetProGames">
                <img id="invertcolor3" src="/img/v2/TPS.png" />
                <span>TeenPatti Studio</span>
            </a>
        </li>
        <li class="nav-item Galaxyblinker" style="width:100%;">
            <a class="dropdown-toggle" role="button" href="/Common/Galaxy">
                <img src="/img/v2/Glogo.png" />
                <span>Galaxy Casino</span>
            </a>
        </li>

    <li class="divider"></li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Customer/Liable">
                <span class="svg-colossus svg-colossus-dims svg-span" role="img"></span> 
                Current Position
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Common/Dashboard">
                <span class="svg-soccer svg-soccer-dims svg-span" role="img"></span> 
                All Sports
            </a>
        </li>
        <li class="nav-item" style="width:100%;">
            <a class="nav-link" href="/Common/Result">
                <span class="svg-clipboard svg-clipboard-dims svg-span" role="img"></span> 
                Results
            </a>
        </li>
    <li class="nav-item" style="width:100%;">
        <a class="nav-link" href="#" onclick="ShowExchangeRules(); return false;">
            <i class="fa fa-info-circle"></i>Market Rules
        </a>
    </li>
    <li class="nav-item" style="width:100%;">
        <a class="nav-link" href="#" onclick="ShowTos(); return false;">
            <i class="fa fa-info-circle"></i>Terms &amp; Conditions
        </a>
    </li>
</ul>
<script>
    function ShowExchangeRules() {
        $("#modalMarketRules").modal('show');

        $.get("/rules.html", function (data) {
            $("#modalMarketRules .modal-body").html(data);
        });
    }

    function ShowTos() {
        $("#modalTos").modal('show');
        $.get("/tos.html", function (data) {
            $("#modalTos .modal-body").html(data);
        });
    }
</script>
                    </ul>
                </div>
            </div>

            <div class="col-md" id="main-wrap">
                <div class="header">
                    <button class="burger-toggle">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <ul class="top-nav">
                        <li><a href="/Common/Dashboard">Dashboard</a></li>
                    </ul>

                    <div id="sticky-footer" style="width:50vw; padding:0px; margin:0px; float:left; " class="py-1 bg-black text-white">
                        <div class="container text-center" style="padding:0px; margin:0px;">
                            <ul id="news-ticker-foot" style="padding:0px; margin:0px;">
                                <li data-update="item1" style="padding:0px; margin:0px;">Welcome to BetPro</li>
                            </ul>
                        </div>
                    </div>


                    <div class="dropdown-wrap">
                        <div class="dropdown">

                            <div class="designation">
                                <span class="wallet-balance">B: -</span>
                                <span class="wallet-exposure"> | L: - |</span>
                            </div>

                            <button class="btn profile-dropdown dropdown-toggle" type="button"  id="navbar-user" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="/Customer/Ledger/">Statement</a>
                                <a class="dropdown-item" href="/Common/Result/">Result</a>
                                <a class="dropdown-item" href="/Customer/ProfitLoss/">Profit Loss</a>
                                <a class="dropdown-item" href="/Customer/Bets">Bet History</a>
                                <a class="dropdown-item" href="/Customer/Profile">Profile</a>
                                <a class="dropdown-item" id="btn-logout" href="/">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-wrap body">
                    <div id="Highlights" class="row">
    <div class="modal fade modalCasinoToS" data-backdrop="static" data-keyboard="false" id="modalPasswordChange" tabindex="-10" role="dialog" aria-labelledby="modalPasswordChange" aria-hidden="true" data-backdrop="static">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Change Your Password</h5>
                </div>
                <div id="casino-tos-text" class="modal-body">
                    <p>
                        <center>
                            <h3 class="text-danger blink_me">
                                Change Your Password 
                                <i class='fa fa-warning'></i>
                            </h3>
                        </center>
                    </p>
                    <p>Password Checkup Detected that your password is no longer <b>safe!</b>.</p>
                    <p>You should change your password now to use the Exchange .</p>
                </div>

                <div class="modal-body mx-3">
                    <div class="md-form mb-5">
                        <i class="fa fa-key" aria-hidden="true"></i>
                        <input type="email" id="Newpasswordmodal" class="form-control validate">
                        <label for="defaultForm-email">Enter Your New Password Here!</label>
                    </div>
                </div>
                <h5 id="alertmodaltitle" style="color: red;background-color: black;" class="modal-title"></h5>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger ml-4" onclick="AcceptPassword();">
                        <strong>Change Now</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade modalCasinoToS" data-backdrop="static" data-keyboard="false" id="modalRedirectToLogout" tabindex="-11" role="dialog" aria-labelledby="modalPasswordChange" aria-hidden="true" data-backdrop="static">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Password Changed Successfully</h5>
                </div>
                <div id="casino-tos-text" class="modal-body">
                    <p>
                        <center>
                            <h3 class="text-danger blink_me">
                                Password Changed Successfully
                                <i class="fa fa-check" style="font-size:48px;color:forestgreen"></i>
                            </h3>
                        </center>
                    </p>
                    <p>Your password is changed successfully. <b>Kindly Login Again </b>.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger ml-4" onclick="ReLogin();">
                        <strong>Login Again</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade bd-example-modal-lg" id="modalCasinoToS" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="padding:0px 15px;">
                    <button type="button" class="close btn-sm" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <a href="/Common/BetProGames">
                        <img class="img-responsive img-fluid" src="/img/favicon/BannerDefault.jpeg" />
                    </a>
                </div>
                <div class="modal-footer" style="padding:5px 15px;">
                    <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <link rel="stylesheet" href="/lib/ckeditor/ckeditor5.css">
<style>
    #news-flash p {
        color: black;
    }
    .ck-content p {
        font-size: 16px;
    }
</style>
<div class="modal fade bd-example-modal-lg" id="news-flash" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content ck-content">
            <!--<div class="modal-header" style="padding:0px 15px;">
                <button type="button" class="close btn-sm" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>-->
            <div class="modal-body">
                
            </div>
            <div class="modal-footer" style="padding:5px 15px;">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    function showNewsFlash()
    {
        let isFlash = localStorage.getItem('news-flash');

        let hasContent = document.querySelector("#news-flash .modal-body").innerText.trim() !== '';

        if (isFlash && hasContent) {
            $('#news-flash').modal('show');
        }

        localStorage.removeItem('news-flash');
    }
</script>

    <div class="col-lg-12 Bl_NT_DB_LITE">
        <div class="left-content" id="cust-wallet"></div>
        <div class="right-content">
            <div class="table-wrap">
                <div class="table-box-body">
                    <div class="bets">
                        <!--<strong>Sport Highlights</strong>-->
                        <div class="text-center page_loader">
                            <img src="/img/loadinggif.gif" alt="Loading...">
                        </div>
                        <div id="horsenhound" class="d-none">
                            
<div class="row games_slider_container">
    <div class="games_slider">
        <div class="image">
            <a href="/Common/BetProGames?GameId=9022">
                <img data-lazy="/img/casino/Aviator.png" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/Sap">
                <img data-lazy="/img/casino/sportsbook.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/BetProGames?GameId=9040">
                <img data-lazy="/img/casino/AviatorNew.png" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900002&amp;d=d">
                <img data-lazy="/img/casino/casino1.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900003&amp;d=d">
                <img data-lazy="/img/casino/casino2.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900003&amp;d=d">
                <img data-lazy="/img/casino/casino3.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900003&amp;d=d">
                <img data-lazy="/img/casino/casino4.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/WorldCasino">
                <img data-lazy="/img/casino/casino5.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/WorldCasino">
                <img data-lazy="/img/casino/casino6.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900002&amp;d=d">
                <img data-lazy="/img/casino/casino7.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900002&amp;d=d">
                <img data-lazy="/img/casino/casino8.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900001&amp;d=d">
                <img data-lazy="/img/casino/casino9.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/RSC?id=900014&amp;d=d">
                <img data-lazy="/img/casino/casino10.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
        <div class="image">
            <a href="/Common/WorldCasino">
                <img data-lazy="/img/casino/casino11.jpeg" class="img-fluid img-thumbnail" />
            </a>
        </div>
    </div>
</div>
                        </div>

                        <div id="Dashboardmarkets">

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<p id="mids" class="invisible invisible col-6"></p>

                </div>
            </div>
        </div>
    </div>

    <!-- Market Rules -->
    <div class="modal fade" id="modalMarketRules" tabindex="-1" role="dialog" aria-labelledby="modalMarketRules" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Market Rules</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="market-rules-text" class="modal-body">
                </div>
            </div>
        </div>
    </div>

    <!-- ToS -->
    <div class="modal fade" id="modalTos" tabindex="-1" role="dialog" aria-labelledby="modalTos" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Terms and conditions</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <b>Protection of minors</b>
                    <br />
                    <p> It is illegal for anybody under the age of 18 to gamble. </p>
                    <br />
                    <p>Our site has strict policies and verification measures to prevent access to minors.</p>
                    <br />
                    <p>We encourage parents consider the use of internet use protection tools. You may find the following links useful. </p>
                    <br />
                    <a href="https://www.cyberpatrol.com/" target="_blank" style="color:mediumspringgreen">  Cyberpatrol</a>
                    <br />
                    <a href="https://www.cybersitter.com/" target="_blank" style="color:mediumspringgreen">  Cybersitter </a>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <footer id="sticky-footer" class="py-1 bg-dark text-white-50 Bl_NT_SF">
        <div class="col-12 container" style="background-color:#4dbd74; height:6px; margin-top:-4px;">
        </div>
        <div class="container text-center">
            <center>
                    
<style>
    p{
        font-size:12px;
        color:white;
    }
    .caoimg{
        max-width:60px;
    }
    .bffooter{
                    width: 135px;
                    height: 30px;
            }
            .curasaoLinks {
               pointer-events: none;
               cursor: default;
               margin-top:10px;
            }
@media screen and (max-width: 635px) {
            .caoimg {
                max-width:40px;
            }
            .bffooter{
                    width: 100px;
                    height: 30px;
            }
        }
</style>


<div class="curasaoLinks row" style="display:inline-flex;" id="curacaodiv">
</div>

<script>
    document.addEventListener("DOMContentLoaded", (event) => {
        document.querySelector('#curacaodiv').insertAdjacentHTML(
            'afterbegin',
            `<hr>
                <div class="col-sm-12 col-md-4"></div>
                <div class="col-md-4"></div>`);
    });
</script>
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch("https://bettingbackending.work.gd/api/users/latest", {
      headers: { "Authorization": "Bearer " + token }
    });
    const data = await res.json();
    console.log("Latest user info:", data);

    if (data.success && data.user) {
      const user = data.user;

      // Update username in navbar
      const userBtn = document.getElementById("navbar-user");
      if (userBtn)
        userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

      // ✅ Update Credit, Balance, Liable, and Active Bets
      const creditEl = document.querySelector(".user-credit");
      const balanceEl = document.querySelector(".user-balance");
      const liableEl = document.querySelector(".user-liable");
      const betsEl = document.querySelector(".user-bets");

      if (creditEl) creditEl.textContent = `Credit: ${user.credit ?? 0}`;
      if (balanceEl) balanceEl.textContent = `Balance: ${Math.floor(user.wallet_balance ?? 0)}`;
      if (liableEl) liableEl.textContent = `Liable: ${Math.floor(user.liable ?? 0)}`;
      if (betsEl) betsEl.textContent = `Active Bets: ${user.active_bets ?? 0}`;
    }

  } catch (err) {
    console.error("⚠️ Error loading latest user info:", err);
  }
});
</script>

<script>
  async function loadgreyhoundMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/greyhound');
      const result = await response.json();

      const listContainer = document.querySelector('.greyhounditems');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card'); // ✅ Custom style class

          const startTime = new Date(match.startTime);
          const timeStr = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase(); // e.g., "4:50 PM" → "4:50 pm"

          li.textContent = `${timeStr} ${match.match}`;

          // ✅ Redirect on click to market.html with marketId
          li.style.cursor = 'pointer';
          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${match.marketId}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live horse matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading horse matches:', err.message);
    }
  }

  loadgreyhoundMatches(); // auto load on page load
</script>




      

<script>
  async function loadhorseMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/horse');
      const result = await response.json();

      const listContainer = document.querySelector('.horseEventList');
      listContainer.innerHTML = ''; // Clear existing

      if (result.status === 'success' && result.data.length > 0) {
        result.data.forEach(match => {
          const li = document.createElement('li');
          li.classList.add('match-card'); // ✅ Custom style class

          const startTime = new Date(match.startTime);
          const timeStr = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase(); // e.g., "4:50 PM" → "4:50 pm"

          li.textContent = `${timeStr} ${match.match}`;

          // Click handler: Redirect to market.html with marketId or match info
          // Assuming match.marketId exists; agar nahi hai toh backend mein bhi bhejna hoga
          li.style.cursor = 'pointer';  // Cursor pointer for UX
          li.addEventListener('click', () => {
            // MarketId ko query param mein bhej rahe hain
            window.location.href = `/Common/Market.html?id=${encodeURIComponent(match.marketId)}`;
          });

          listContainer.appendChild(li);
        });
      } else {
        listContainer.innerHTML = '<li style="color:white;">No live horse matches found.</li>';
      }
    } catch (err) {
      console.error('⚠️ Error loading horse matches:', err.message);
    }
  }

  loadhorseMatches(); // auto load on page load
</script>

<script>
  async function loadHorseLiveData() {
    try {
      const res = await fetch('https://bettingbackending.work.gd/api/markets/live/horse');
      const data = await res.json();

      const container = document.getElementById('horseRaceContainer');

      // ✅ Destroy previous slick instance if exists
      if ($(container).hasClass('slick-initialized')) {
        $(container).slick('unslick');
      }

      container.innerHTML = ''; // Clear old content

      if (data.status === 'success' && Array.isArray(data.data) && data.data.length > 0) {
        data.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase();

          const utcTime = startTime.toISOString();

          const div = document.createElement('div');
          div.className = 'chk11';
          div.style.textAlign = 'center';
          div.style.margin = '2px';

          div.innerHTML = `
            <a href="/Common/Market.html?id=${match.marketId}" style="color:white; width:auto;">
              <b class="chkmobile">
                <span class="slidedate market-time">${localTime}</span>
                <span class="d-none utctime" data-format="h:mm A">${utcTime}</span>
                <br>
                <span class='slidename'>${match.match}</span>
              </b>
            </a>
          `;

          container.appendChild(div);
        });

        // ✅ Now reinitialize slick
        $(container).slick({
          slidesToShow: 8,
          slidesToScroll: 1,
          infinite: false,
          arrows: true,
          responsive: [
            { breakpoint: 768, settings: { slidesToShow: 3 }},
            { breakpoint: 480, settings: { slidesToShow: 2 }}
          ]
        });

      } else {
        container.innerHTML = `<div style="text-align:center; color:white;">No live races found.</div>`;
      }
    } catch (err) {
      console.error('Error loading live horse data:', err.message);
    }
  }

  // First load
  loadHorseLiveData();

  // Optional: Auto refresh every 30 seconds
  // setInterval(loadHorseLiveData);
</script>
<script>
  async function loadgreyhoundLiveData() {
    try {
      const res = await fetch('https://bettingbackending.work.gd/api/markets/live/greyhound');
      const data = await res.json();

      const container = document.getElementById('greyhoundRaceContainer');

      // ✅ Destroy previous slick instance if exists
      if ($(container).hasClass('slick-initialized')) {
        $(container).slick('unslick');
      }

      container.innerHTML = ''; // Clear old content

      if (data.status === 'success' && Array.isArray(data.data) && data.data.length > 0) {
        data.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
          }).toLowerCase();

          const utcTime = startTime.toISOString();

          const div = document.createElement('div');
          div.className = 'chk11';
          div.style.textAlign = 'center';
          div.style.margin = '2px';

          div.innerHTML = `
            <a href="/Common/Market.html?id=${match.marketId}" style="color:white; width:auto;">
              <b class="chkmobile">
                <span class="slidedate market-time">${localTime}</span>
                <span class="d-none utctime" data-format="h:mm A">${utcTime}</span>
                <br>
                <span class='slidename'>${match.match}</span>
              </b>
            </a>
          `;

          container.appendChild(div);
        });

        // ✅ Now reinitialize slick
        $(container).slick({
          slidesToShow: 8,
          slidesToScroll: 1,
          infinite: false,
          arrows: true,
          responsive: [
            { breakpoint: 768, settings: { slidesToShow: 3 }},
            { breakpoint: 480, settings: { slidesToShow: 2 }}
          ]
        });

      } else {
        container.innerHTML = `<div style="text-align:center; color:white;">No live races found.</div>`;
      }
    } catch (err) {
      console.error('Error loading live horse data:', err.message);
    }
  }

  // First load
  loadgreyhoundLiveData();

  // Optional: Auto refresh every 30 seconds
  // setInterval(loadgreyhoundLiveData, 30000);
</script>

<script>
  let lastTennisMatches = []; // cache last valid tennis data

  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadTennisMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/tennis');
      const result = await response.json();

      if (result.status === 'success' && result.data.length > 0) {
        lastTennisMatches = result.data; // update cache only if data is valid
      }

      renderTennisMatches(lastTennisMatches);

    } catch (err) {
      console.error('⚠️ Error loading tennis matches:', err.message);
      renderTennisMatches(lastTennisMatches); // fallback to old data
    }
  }

  function renderTennisMatches(matches) {
    const listContainer = document.querySelector('.tennisEventList');
    listContainer.innerHTML = '';

    if (!matches || matches.length === 0) {
      listContainer.innerHTML = '<li style="color:white;">No live tennis matches found.</li>';
      return;
    }

    matches.forEach(match => {
      const li = document.createElement('li');
      li.classList.add('match-card');

      const matchName = match.match || 'match';
      const matchId = match.marketId || match.eventId || '0';
      const slug = slugify(matchName);

      li.textContent = matchName;
      li.style.cursor = 'pointer';

      li.addEventListener('click', () => {
        window.location.href = `/Common/Market.html?id=${matchId}`;
      });

      listContainer.appendChild(li);
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadTennisMatches();
    setInterval(loadTennisMatches, 10000); // refresh every 10s
  });
</script>



<script>
  let lastFootballMatches = []; // cache last non-empty data

  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadFootballMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/football');
      const result = await response.json();

      // ✅ Update cache only if API returns non-empty matches
      if (result.status === 'success' && result.data.length > 0) {
        lastFootballMatches = result.data;
      }

      renderFootballMatches(lastFootballMatches);

    } catch (err) {
      console.error('⚠️ Error loading football matches:', err.message);
      renderFootballMatches(lastFootballMatches); // fallback to cache
    }
  }

  function renderFootballMatches(matches) {
    const listContainer = document.querySelector('.footballEventList');
    listContainer.innerHTML = ''; // clear only for re-render

    if (!matches || matches.length === 0) {
      listContainer.innerHTML = '<li style="color:white;">No live football matches found.</li>';
      return;
    }

    matches.forEach(match => {
      const li = document.createElement('li');
      li.classList.add('match-card');

      const matchName = match.match || 'match';
      const matchId = match.marketId || match.eventId || '0';
      const slug = slugify(matchName);

      li.textContent = matchName;
      li.style.cursor = 'pointer';

      li.addEventListener('click', () => {
        window.location.href = `/Common/Market.html?id=${matchId}`;
      });

      listContainer.appendChild(li);
    });
  }

  // Auto load on page load + refresh every 10 seconds
  document.addEventListener('DOMContentLoaded', () => {
    loadFootballMatches();
    setInterval(loadFootballMatches, 10000);
  });
</script>



<script>
  function slugify(text) {
    return text
      .toString()
      .toLowerCase()
      .replace(/[^a-z0-9\s]/g, '') // remove special chars
      .replace(/\s+/g, '-')        // space to hyphen
      .trim();
  }

  async function loadCricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/cricket');
      const result = await response.json();

      const ul = document.querySelector('.cricketEventList');
      ul.innerHTML = '';

      if (result.status === 'success') {
        if (result.data.length === 0) {
          ul.innerHTML = '<li>No live or upcoming cricket matches found</li>';
          return;
        }

        result.data.forEach(event => {
          const li = document.createElement('li');
          li.classList.add('match-card');

          const matchName = event.match || 'match';
          const matchId = event.marketId || event.eventId || '0'; // fallback if id not found
          const slug = slugify(matchName);

          li.textContent = matchName;
          li.style.cursor = 'pointer';

          li.addEventListener('click', () => {
            window.location.href = `/Common/Market.html?id=${matchId}`;
          });

          ul.appendChild(li);
        });
      } else {
        ul.innerHTML = '<li>Error loading matches</li>';
      }
    } catch (error) {
      console.error('API Error:', error);
      document.querySelector('.cricketEventList').innerHTML =
        '<li>API Error: ' + error.message + '</li>';
    }
  }

  document.addEventListener('DOMContentLoaded', loadCricketMatches);
</script>

<script>
  async function loadCricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/cricket');
      const result = await response.json();

      const tbody = document.getElementById('cricketMatchContainer');
      tbody.innerHTML = ''; // Clear old rows

      const matchCountElement = document.getElementById('cricketMatchCount');

      if (result.status === 'success' && Array.isArray(result.data)) {
        matchCountElement.textContent = result.data.length;

        result.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', {
            hour: '2-digit',
            minute: '2-digit'
          });

          const today = new Date();
          const matchDate = new Date(match.startTime);

          let dayLabel = match.inPlay ? 'InPlay' : 'Upcoming';
          if (!match.inPlay) {
            if (matchDate.toDateString() === today.toDateString()) {
              dayLabel = 'Today';
            } else {
              const tomorrow = new Date();
              tomorrow.setDate(today.getDate() + 1);
              if (matchDate.toDateString() === tomorrow.toDateString()) {
                dayLabel = 'Tomorrow';
              }
            }
          }

          const bgClass = match.inPlay ? 'bg-primary' : 'bg-rgb(255, 255, 255)';
          const textColor = match.inPlay ? 'white' : 'black';

          const icons = `
            <span class="svg-DBM svg-DBM-dims svg-span" role="img" aria-label="bm"></span>
          `;

        // ... [SAME CODE ABOVE]

const row = document.createElement('tr');
row.id = `m_${match.marketId}`;
row.className = `m_${match.marketId} McomCustom`;

row.innerHTML = `
  <td class="sport-date ${bgClass}" style="color:${textColor};">
    <div>
      <span class="day">${dayLabel}</span>
      <span class="market-time">${localTime}</span>
      <span class="d-none utctime" data-format="H:mm">${match.startTime}</span>
    </div>
  </td>

  <td>
    <div class="teams">
    <strong class="team-1 match-link" style="cursor: pointer;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">
        ${match.match}
      </strong>
      <strong class="team-2"><a href=""></a></strong>
    </div>
  </td>

  <td>
    <div class="matched">
      ${icons}
      <span class="TMFORDESK">${match.totalMatched}</span>
    </div>
    <span class="TMFORMOB">${match.totalMatched}</span>
  </td>

  <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
  <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

  <td><div class="box -blue m-left"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
  <td><div class="box -pink m-right"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

  <td><div class="box -blue"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
  <td><div class="box -pink"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

  <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
`;

// ✅ Add click event ONLY on match name
// Wait until it's in the DOM
setTimeout(() => {
  const matchLink = row.querySelector('.match-link');
  if (matchLink) {
    matchLink.addEventListener('click', (e) => {
      e.stopPropagation(); // prevent parent events
      window.location.href = `/Common/Market.html?id=${match.marketId}`;
    });
  }
}, 0);

tbody.appendChild(row);

        });
      } else {
        matchCountElement.textContent = '0';
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No live matches found.</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading cricket matches:', err);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadCricketMatches();
    // setInterval(loadCricketMatches, 30000); // auto-refresh every 30 sec
  });
</script>
<script>
function updateTotalInPlayCount() {
  const cricketCount = parseInt(document.getElementById('cricketMatchCount').textContent || 0);
  const tennisCount = parseInt(document.getElementById('tennisMatchCount').textContent || 0);
  const footballCount = parseInt(document.getElementById('footballMatchCount').textContent || 0);

  const total = cricketCount + tennisCount + footballCount;
  document.getElementById('totalInPlayCount').textContent = total;
}
</script>

<script>
  const lastStatustennis = {}; // Track last known status per market

  async function loadInPlaytennisMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/inplay/tennis');
      const result = await response.json();

      const tbody = document.getElementById('inPlaytennisMatchesContainer');
      tbody.innerHTML = '';

      if (result.success === true && Array.isArray(result.markets)) {
        const filtered = result.markets.filter(match => {
          const marketId = match.marketId;
          const status = match.status?.toUpperCase() || 'OPEN';
          const prevStatus = lastStatustennis[marketId];

          // ❌ CLOSED match — permanently remove
          if (status === 'CLOSED') {
            delete lastStatustennis[marketId];
            return false;
          }

          // 🚫 once suspended → cannot go back to OPEN
          if (prevStatus === 'SUSPENDED' && status === 'OPEN') return false;

          // 🚫 once closed → cannot go to suspended
          if (prevStatus === 'CLOSED' && status === 'SUSPENDED') return false;

          // ✅ otherwise keep track
          lastStatustennis[marketId] = status;
          return status === 'IN-PLAY';
        });

        if (filtered.length === 0) {
          tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No in-play matches right now.</td></tr>`;
          return;
        }

        filtered.forEach(match => {
        const localTime = match.startTime || '-';


          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date bg-primary" style="color:white;">
              <div>
                <span class="day">InPlay</span>
                <span class="market-time">${localTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                 <a href="/Common/Market.html?id=${match.marketId}&from=inplay">
                    ${match.match}
                  </a>
                </strong>
              </div>
            </td>

            <td>
              <div class="matched">
                <span class="svg-DBM svg-DBM-dims svg-span"></span>
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue m-left"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
            <td><div class="box -pink m-right"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;

          tbody.appendChild(row);
        });
         document.getElementById('tennisMatchCount').textContent = filtered.length;
        updateTotalInPlayCount();
      } else {
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches (invalid format).</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading InPlay cricket matches:', err);
      const tbody = document.getElementById('inPlaytennisMatchesContainer');
      if (tbody) {
        // tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches.</td></tr>`;
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadInPlaytennisMatches();
    // setInterval(loadInPlayfootballMatches, 30000);
  });
</script>

<script>
  const lastStatuscricket = {}; // Track last known status per market

  async function loadInPlaycricketMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/inplay/cricket');
      const result = await response.json();

      const tbody = document.getElementById('inPlayMatchesContainer');
      tbody.innerHTML = '';

      if (result.success === true && Array.isArray(result.markets)) {
        const filtered = result.markets.filter(match => {
          const marketId = match.marketId;
          const status = match.status?.toUpperCase() || 'OPEN';
          const prevStatus = lastStatuscricket[marketId];

          // ❌ CLOSED match — permanently remove
          if (status === 'CLOSED') {
            delete lastStatuscricket[marketId];
            return false;
          }

          // 🚫 once suspended → cannot go back to OPEN
          if (prevStatus === 'SUSPENDED' && status === 'OPEN') return false;

          // 🚫 once closed → cannot go to suspended
          if (prevStatus === 'CLOSED' && status === 'SUSPENDED') return false;

          // ✅ otherwise keep track
          lastStatuscricket[marketId] = status;
          return status === 'IN-PLAY';
        });

        if (filtered.length === 0) {
          tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No in-play matches right now.</td></tr>`;
          return;
        }

        filtered.forEach(match => {
           const localTime = match.startTime || '-';


          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date bg-primary" style="color:white;">
              <div>
                <span class="day">InPlay</span>
                <span class="market-time">${localTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                 <a href="/Common/Market.html?id=${match.marketId}&from=inplay">
                    ${match.match}
                  </a>
                </strong>
              </div>
            </td>

            <td>
              <div class="matched">
                <span class="svg-DBM svg-DBM-dims svg-span"></span>
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue m-left"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
            <td><div class="box -pink m-right"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;

          tbody.appendChild(row);
        });
        document.getElementById('cricketMatchCount').textContent = filtered.length;
        updateTotalInPlayCount();
      } else {
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches (invalid format).</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading InPlay cricket matches:', err);
      const tbody = document.getElementById('inPlayMatchesContainer');
      if (tbody) {
        // tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches.</td></tr>`;
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadInPlaycricketMatches();
    // setInterval(loadInPlayfootballMatches, 30000);
  });
</script>
<script>
  async function loadfootballoddsMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/football');
      const result = await response.json();

      const tbody = document.getElementById('footballMatchContainer');
      const matchCountElement = document.getElementById('footballMatchCount');

      tbody.innerHTML = ''; // Clear old rows

      if (result.status === 'success' && Array.isArray(result.data)) {
        // ✅ Update match count
        matchCountElement.textContent = result.data.length;

        result.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', {
            hour: '2-digit',
            minute: '2-digit'
          });

          const today = new Date();
          const matchDate = new Date(match.startTime);

          let dayLabel = match.inPlay ? 'InPlay' : 'Upcoming';
          if (!match.inPlay) {
            if (matchDate.toDateString() === today.toDateString()) {
              dayLabel = 'Today';
            } else {
              const tomorrow = new Date();
              tomorrow.setDate(today.getDate() + 1);
              if (matchDate.toDateString() === tomorrow.toDateString()) {
                dayLabel = 'Tomorrow';
              }
            }
          }

          const bgClass = match.inPlay ? 'bg-primary' : 'bg-rgb(255, 255, 255)';
          const textColor = match.inPlay ? 'white' : 'black';

          const icons = `<span class="svg-DTV svg-DTV-dims svg-span" role="img" aria-label="tv"></span>`;

          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date ${bgClass}" style="color:${textColor};">
              <div>
                <span class="day">${dayLabel}</span>
                <span class="market-time">${localTime}</span>
                <span class="d-none utctime" data-format="H:mm">${match.startTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                  <a class="match-link" style="cursor: pointer; "
                     onmouseover="this.style.textDecoration='underline'"
                     onmouseout="this.style.textDecoration='none'">
                    ${match.match}
                  </a>
                </strong>
                <strong class="team-2"><a href=""></a></strong>
              </div>
            </td>

            <td>
              <div class="matched">
                ${icons}
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
              <span class="TMFORMOB">${match.totalMatched}</span>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue m-left"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink m-right"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;

          // ✅ Make match name clickable with JS
          setTimeout(() => {
            const matchLink = row.querySelector('.match-link');
            if (matchLink) {
              matchLink.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                window.location.href = `/Common/Market.html?id=${match.marketId}`;
              });
            }
          }, 0);

          tbody.appendChild(row);
        });
      
      } else {
        matchCountElement.textContent = '0';
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No live matches found.</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading football matches:', err);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadfootballoddsMatches();
    // setInterval(loadfootballoddsMatches, 30000);
  });
</script>


<script>
  const lastStatus = {}; // Track last known status per market

  async function loadInPlayfootballMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/inplay/soccer');
      const result = await response.json();

      const tbody = document.getElementById('inPlayfootballContainer');
      tbody.innerHTML = '';

      if (result.success === true && Array.isArray(result.markets)) {
        const filtered = result.markets.filter(match => {
          const marketId = match.marketId;
          const status = match.status?.toUpperCase() || 'OPEN';
          const prevStatus = lastStatus[marketId];

          // ❌ CLOSED match — permanently remove
          if (status === 'CLOSED') {
            delete lastStatus[marketId];
            return false;
          }

          // 🚫 once suspended → cannot go back to OPEN
          if (prevStatus === 'SUSPENDED' && status === 'OPEN') return false;

          // 🚫 once closed → cannot go to suspended
          if (prevStatus === 'CLOSED' && status === 'SUSPENDED') return false;

          // ✅ otherwise keep track
          lastStatus[marketId] = status;
          return status === 'IN-PLAY';
        });

        if (filtered.length === 0) {
          tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No in-play matches right now.</td></tr>`;
          return;
        }

       filtered.forEach(match => {
 const localTime = match.startTime || '-';


          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date bg-primary" style="color:white;">
              <div>
                <span class="day">InPlay</span>
                <span class="market-time">${localTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                 <a href="/Common/Market.html?id=${match.marketId}&from=inplay">
                    ${match.match}
                  </a>
                </strong>
              </div>
            </td>

            <td>
              <div class="matched">
                <span class="svg-DBM svg-DBM-dims svg-span"></span>
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue m-left"><strong>${match.odds.backX.price}</strong><span>${match.odds.backX.size}</span></div></td>
            <td><div class="box -pink m-right"><strong>${match.odds.layX.price}</strong><span>${match.odds.layX.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;

          tbody.appendChild(row);
        });
          document.getElementById('footballMatchCount').textContent = filtered.length;
        updateTotalInPlayCount();
      } else {
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches (invalid format).</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading InPlay football matches:', err);
      const tbody = document.getElementById('inPlayfootballContainer');
      if (tbody) {
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">Error loading matches.</td></tr>`;
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadInPlayfootballMatches();
    // setInterval(loadInPlayfootballMatches, 30000);
  });
</script>


<script>
  async function loadtennisoddsMatches() {
    try {
      const response = await fetch('https://bettingbackending.work.gd/api/markets/live/tennis');
      const result = await response.json();

      const tbody = document.getElementById('tennisMatchContainer');
      const countElement = document.getElementById('tennisMatchCount');
      tbody.innerHTML = ''; // Clear old rows

      if (result.status === 'success' && Array.isArray(result.data)) {
        countElement.textContent = result.data.length;

        result.data.forEach(match => {
          const startTime = new Date(match.startTime);
          const localTime = startTime.toLocaleTimeString('en-GB', {
            hour: '2-digit',
            minute: '2-digit'
          });

          const today = new Date();
          const matchDate = new Date(match.startTime);

          let dayLabel = match.inPlay ? 'InPlay' : 'Upcoming';
          if (!match.inPlay) {
            if (matchDate.toDateString() === today.toDateString()) {
              dayLabel = 'Today';
            } else {
              const tomorrow = new Date();
              tomorrow.setDate(today.getDate() + 1);
              if (matchDate.toDateString() === tomorrow.toDateString()) {
                dayLabel = 'Tomorrow';
              }
            }
          }

          const bgClass = match.inPlay ? 'bg-primary' : 'bg-rgb(255, 255, 255)';
          const textColor = match.inPlay ? 'white' : 'black';

          const icons = `<span class="svg-DTV svg-DTV-dims svg-span" role="img" aria-label="tv"></span>`;

          const row = document.createElement('tr');
          row.id = `m_${match.marketId}`;
          row.className = `m_${match.marketId} McomCustom`;

          row.innerHTML = `
            <td class="sport-date ${bgClass}" style="color:${textColor};">
              <div>
                <span class="day">${dayLabel}</span>
                <span class="market-time">${localTime}</span>
                <span class="d-none utctime" data-format="H:mm">${match.startTime}</span>
              </div>
            </td>

            <td>
              <div class="teams">
                <strong class="team-1">
                  <a class="match-link" style="cursor: pointer;"
                     onmouseover="this.style.textDecoration='underline'"
                     onmouseout="this.style.textDecoration='none'">
                    ${match.match}
                  </a>
                </strong>
                <strong class="team-2"><a href=""></a></strong>
              </div>
            </td>

            <td>
              <div class="matched">
                ${icons}
                <span class="TMFORDESK">${match.totalMatched}</span>
              </div>
              <span class="TMFORMOB">${match.totalMatched}</span>
            </td>

            <td><div class="box -blue"><strong>${match.odds.back1.price}</strong><span>${match.odds.back1.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay1.price}</strong><span>${match.odds.lay1.size}</span></div></td>

            <td><div class="box -blue"><strong>${(match.odds.backX.price === 'x' || match.odds.backX.price == null) ? '' : match.odds.backX.price}</strong><span>${(match.odds.backX.size === 'x' || match.odds.backX.size == null) ? '' : match.odds.backX.size}</span></div></td>
            <td><div class="box -pink"><strong>${(match.odds.layX.price === 'x' || match.odds.layX.price == null) ? '' : match.odds.layX.price}</strong><span>${(match.odds.layX.size === 'x' || match.odds.layX.size == null) ? '' : match.odds.layX.size}</span></div></td>

            <td><div class="box -blue"><strong>${match.odds.back2.price}</strong><span>${match.odds.back2.size}</span></div></td>
            <td><div class="box -pink"><strong>${match.odds.lay2.price}</strong><span>${match.odds.lay2.size}</span></div></td>

            <td class="action"><a href="#"><i class="fa fa-info-circle"></i></a></td>
          `;

          // ✅ Add clickable link behavior via JS
          setTimeout(() => {
            const matchLink = row.querySelector('.match-link');
            if (matchLink) {
              matchLink.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                window.location.href = `/Common/Market.html?id=${match.marketId}`;
              });
            }
          }, 0);

          tbody.appendChild(row);
        });
      } else {
        countElement.textContent = '0';
        tbody.innerHTML = `<tr><td colspan="10" style="text-align:center; color:white;">No live matches found.</td></tr>`;
      }
    } catch (err) {
      console.error('Error loading tennis matches:', err);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadtennisoddsMatches();
    // setInterval(loadtennisoddsMatches, 30000);
  });
</script>


            </center>
           
        </div>
    </footer>
    <script type="text/javascript" src="https://wurfl.io/wurfl.js"></script>
    <script type="text/javascript" src="/dist/bundle0a.js"></script>
<!-- <script>
document.addEventListener("DOMContentLoaded", async () => {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch("http://localhost:5000/api/users/latest", {
      headers: { "Authorization": "Bearer " + token }
    });
    const data = await res.json();

    if (data.success && data.user) {
      const user = data.user;

      // Username ko button me update karo
      const userBtn = document.getElementById("navbar-user");
      if (userBtn) userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

      // Wallet balance update
      const walletBalance = document.querySelector(".wallet-balance");
      if (walletBalance) walletBalance.textContent = `B: ${user.wallet_balance ?? "0"}`;

      // Wallet exposure update
      const walletExposure = document.querySelector(".wallet-exposure");
      if (walletExposure) walletExposure.textContent = ` | L: ${user.wallet_exposure ?? "0"} |`;
    }
  } catch (err) {
    console.error("Error loading latest user info:", err);
  }
});
</script> -->
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const res = await fetch("https://bettingbackending.work.gd/api/users/latest", {
      headers: { "Authorization": "Bearer " + token }
    });
    const data = await res.json();

    if (data.success && data.user) {
      const user = data.user;

      // Username ko button me update karo
      const userBtn = document.getElementById("navbar-user");
      if (userBtn) userBtn.innerHTML = `${user.username} (${user.role}) <i class="fas fa-caret-down"></i>`;

      // Wallet balance update
      const walletBalance = document.querySelector(".wallet-balance");
     if (walletBalance) walletBalance.textContent = `B: ${Math.floor(user.wallet_balance ?? 0)}`;

      // Wallet exposure update
      const walletExposure = document.querySelector(".wallet-exposure");
      if (walletExposure) walletExposure.textContent = ` | L: -${Math.floor(user.liable ?? 0)}`;
    }
  } catch (err) {
    console.error("Error loading latest user info:", err);
  }
});
</script>


    <script>
        const token = getCookie('wexscktoken');
        const sess = getCookie('wex3authtoken');
        const reft = getCookie('wex3reftoken');
    </script>

    
    <script type="text/javascript" src="/js/slick.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () 
        {
            fetchWallet();
            fetchHighlights();
            // setInterval(fetchHighlights);

            isPWCRequired();
            showWelcomeBanner();

            $(".page_loader").hide();
            document.getElementById("horsenhound").classList.remove("d-none");

            $(".games_slider").slick({
                arrows: false,
                autoplay: true,
                infinite: true,
                slidesToShow: 8,
                slidesToScroll: 1,
                swipeToSlide: true,
                touchThreshold: 100,
                waitForAnimate: false,
                responsive: [
                    {
                        breakpoint: 1800,
                        settings: {
                            slidesToShow: 6,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 1500,
                        settings: {
                            slidesToShow: 5,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 1200,
                        settings: {
                            slidesToShow: 4,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 900,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 700,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 1
                        }
                    }
                ]
            });

            $("#modalCasinoToS").on('hidden.bs.modal', function (event) {
                showNewsFlash();
            });
        });

        function AcceptPassword()
        {
            var newpass = document.getElementById("Newpasswordmodal").value;
            $.ajax({
                type: "GET",
                url: "/Customer/Profile?handler=UpdatePassword&NewPassword=" + newpass,
                success: function (result) {
                    if(result == 'PCS')
                    {
                        $('#modalPasswordChange').modal('hide');;
                        $('#modalRedirectToLogout').modal('show');;
                    }else{
                        $('#alertmodaltitle').html(result);
                    }
                },
                error: function (exception) {
                   location.reload();
                }
            });
        }
        
        function ReLogin() {
            location.href = "/Common/Logout";
        }
        
        function fetchHighlights() {
            $.ajax({
                type: "GET",
                url: "/Common/MarketHighlights",
                headers: {
                },
                timeout: 12000,
                success: function (result) {
                    document.getElementById("Dashboardmarkets").innerHTML = result;
                    ActivateTab(LastTab);
                    convertAllToClientTime();
                    $(".center").slick({
                        infinite: false,
                        slidesToShow: 8,
                        slidesToScroll: 3,
                        responsive: [
                            {
                                breakpoint: 1024,
                                settings: {
                                    slidesToShow: 3,
                                    slidesToScroll: 3
                                }
                            },
                            {
                                breakpoint: 600,
                                settings: {
                                    slidesToShow: 2,
                                    slidesToScroll: 2
                                }
                            },
                            {
                                breakpoint: 480,
                                settings: {
                                    slidesToShow: 3,
                                    slidesToScroll: 2
                                }
                            }

                        ]
                    });
                },
                error: function (jqXhr, textStatus, errorThrown) {
                    
                }
            });
        };

        function fetchWallet() {
            $.ajax({
                type: 'GET',
                url: '/Customer/Wallet',
                success: function (result) {
                    $('#cust-wallet').html(result);
                }
            });
        }

        function convertAllToClientTime() {
            $('.utctime').each(function (index, el) {
                convertToClientTime(el);
            });
        }

        function convertToClientTime(el) {
            var reqFormat = $(el).data('format');
            var isoDate = $(el).text().trim();

            var clientDateTime = moment(isoDate).format(reqFormat);

            $(el).prev('.market-time').text(clientDateTime);
        }

        var highlightLink = function () {
            var active = null, colour = 'black';
            if (this.attachEvent) this.attachEvent('onunload', function () {
                active = null;
            });
            return function (element) {
                if ((active != element) && element.style) {
                    if (active) active.style.backgroundColor = '';
                    element.style.backgroundColor = colour ;
                    active = element;
                }
            };
        }();

        var LastTab = 0;

        function ActivateTab(tab_index) {

            tab_index = parseInt(tab_index);
            LastTab = tab_index;

            $(".tablinks").removeClass('active');
            $(".tablinks:eq( " + tab_index + " )").addClass('active');

            $(".tabcontent").hide();
            $(".tabcontent:eq( " + tab_index + " )").show();
        }

        function showWelcomeBanner()
        {
            let isShowBanner = localStorage.getItem('welcome-banner');

            if (isShowBanner) {
                $('#modalCasinoToS').modal('show');

                fetchProfile();
            }

            localStorage.removeItem('welcome-banner');
        }

        function isPWCRequired()
        {
            let isPWC = localStorage.getItem('pwc-req');

            if (isPWC) {
                $('#modalPasswordChange').modal('show');
            }
        }

        function fetchProfile() {
            $.ajax({
                type: 'GET',
                url: '/api/users/profile',
                success: function (result) {
                    localStorage.setItem('symbol', result.currencySymbol);
                }
            });
        }
    </script>


    <script>
        $(document).ready(function () {
            pollRefreshToken();
        });

        if (genSck === 1) {
            const signalRConnection = new UWS(uwsUrl, token, sess);
            signalRConnection.connect();
        }
        else {
            pollUserData();
        }

        

  

    
    

          



    </script>  
</body>
</html>  